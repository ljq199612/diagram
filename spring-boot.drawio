<mxfile host="app.diagrams.net" modified="2023-04-23T10:01:50.143Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/112.0" etag="5gDoKBaKGZRb9ZdjmFCa" version="21.2.1" type="github" pages="4">
  <diagram id="prtHgNgQTEPvFCAcTncT" name="总览">
    <mxGraphModel dx="2514" dy="878" grid="1" gridSize="10" guides="1" tooltips="1" connect="0" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="RSLFzYsw8J-lE13sV5hV-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-255" y="140" width="705" height="290" as="geometry" />
        </mxCell>
        <mxCell id="hdV7oSyVdia2Qf2Z374a-1" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;elbow=vertical;shape=flexArrow;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" target="8-vGXVchoIqBowFSAs0r-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="65" y="109" as="sourcePoint" />
            <mxPoint x="90.5" y="164" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8-vGXVchoIqBowFSAs0r-1" value="&lt;div&gt;&lt;b&gt;SpringApplication&lt;/b&gt;&lt;/div&gt;&lt;b&gt;开始启动&lt;/b&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#99FF33;strokeColor=#006658;fontColor=#5C5C5C;rounded=0;labelBackgroundColor=none;labelBorderColor=none;" parent="1" vertex="1">
          <mxGeometry x="-7" y="43" width="144" height="62" as="geometry" />
        </mxCell>
        <mxCell id="hdV7oSyVdia2Qf2Z374a-7" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;elbow=vertical;shape=arrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" target="hdV7oSyVdia2Qf2Z374a-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="186" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8-vGXVchoIqBowFSAs0r-7" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;构造一个Spring应用&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="-58.5" y="154" width="247.5" height="63" as="geometry" />
        </mxCell>
        <UserObject label="" tags="" id="40FTKYqt4oS-b7dHANUB-12">
          <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="hdV7oSyVdia2Qf2Z374a-6" target="40FTKYqt4oS-b7dHANUB-11" edge="1">
            <mxGeometry relative="1" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;div&gt;启动此应用&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" tags="" id="hdV7oSyVdia2Qf2Z374a-6">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="698.5" y="154" width="226.5" height="73" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="" tags="" id="40FTKYqt4oS-b7dHANUB-14">
          <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-11" target="40FTKYqt4oS-b7dHANUB-13" edge="1">
            <mxGeometry relative="1" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="40FTKYqt4oS-b7dHANUB-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-11" target="40FTKYqt4oS-b7dHANUB-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="812" y="452" />
              <mxPoint x="526" y="452" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.46;entryY=0.049;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=10;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="812" y="452" />
              <mxPoint x="1005" y="452" />
            </Array>
            <mxPoint x="811.5" y="395" as="sourcePoint" />
            <mxPoint x="1004.98" y="514.989" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="812" y="451" />
              <mxPoint x="1233" y="451" />
            </Array>
            <mxPoint x="811.5" y="397" as="sourcePoint" />
            <mxPoint x="1233" y="514" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div&gt;应用启动计时器开始计时&lt;/div&gt;&lt;div&gt;应用启动监听器开始监听&lt;/div&gt;" tags="" id="40FTKYqt4oS-b7dHANUB-11">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="741" y="340" width="141" height="56" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;div&gt;headless 模式配置&lt;/div&gt;" tags="" id="40FTKYqt4oS-b7dHANUB-13">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="948" y="340" width="120" height="56" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="40FTKYqt4oS-b7dHANUB-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-16" target="40FTKYqt4oS-b7dHANUB-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.552;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525.5" y="575" as="sourcePoint" />
            <mxPoint x="606.9960000000001" y="658" as="targetPoint" />
            <Array as="points">
              <mxPoint x="526" y="615" />
              <mxPoint x="607" y="615" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div&gt;SpringApplicationRunListeners&lt;/div&gt;&lt;div&gt;启动器模块&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" tags="" id="40FTKYqt4oS-b7dHANUB-16">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="431" y="514" width="189" height="61" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="40FTKYqt4oS-b7dHANUB-17" value="&lt;div&gt;启动&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="407.5" y="657" width="56" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="526" y="723" />
              <mxPoint x="439" y="723" />
            </Array>
            <mxPoint x="525.5" y="697" as="sourcePoint" />
            <mxPoint x="439" y="757" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="526" y="722" />
              <mxPoint x="611" y="722" />
            </Array>
            <mxPoint x="525.5" y="700" as="sourcePoint" />
            <mxPoint x="611" y="761" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-19" value="监听" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="497.5" y="657" width="56" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-20" value="结束" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="580.5" y="658" width="48" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-26" value="加载环境" style="whiteSpace=wrap;html=1;fillColor=#CCE5FF;strokeColor=#b85450;rounded=0;gradientColor=#66B2FF;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="410.5" y="758" width="56" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-27" value="应用上下文&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;" style="whiteSpace=wrap;html=1;fillColor=#CCFFFF;strokeColor=#b85450;rounded=0;gradientColor=#66FFFF;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="485.5" y="758" width="79" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-28" value="......" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="582.5" y="759" width="56" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-33" target="40FTKYqt4oS-b7dHANUB-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-33" target="40FTKYqt4oS-b7dHANUB-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div&gt;ConfigurableEnvironment&lt;/div&gt;&lt;div&gt;配置环境模块&lt;br&gt;&lt;/div&gt;" tags="" id="40FTKYqt4oS-b7dHANUB-33">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#CCE5FF;strokeColor=#b85450;rounded=0;gradientColor=#66B2FF;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="730" y="513" width="163" height="61" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="40FTKYqt4oS-b7dHANUB-34" value="配置环境" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="671.5" y="658" width="79" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-35" value="加载属性文件" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="772.5" y="658" width="79" height="41" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-36" value="配置监听" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="875.5" y="658" width="79" height="41" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div&gt;Banner 配置&lt;/div&gt;&lt;div&gt;SpringBoot 彩蛋&lt;br&gt; &lt;/div&gt;" tags="" id="40FTKYqt4oS-b7dHANUB-42">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="930" y="513" width="163" height="61" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="40FTKYqt4oS-b7dHANUB-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.511;entryY=-0.105;entryDx=0;entryDy=0;entryPerimeter=0;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-43" target="40FTKYqt4oS-b7dHANUB-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1233" y="610" />
              <mxPoint x="1040" y="610" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-43" target="40FTKYqt4oS-b7dHANUB-49" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1580" y="610" />
              <mxPoint x="1746" y="610" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div&gt;ConfigurableApplicationContext&lt;/div&gt;&lt;div&gt;应用上下文模块&lt;br&gt;&lt;/div&gt;" tags="" id="40FTKYqt4oS-b7dHANUB-43">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#CCFFFF;strokeColor=#b85450;rounded=0;gradientColor=#66FFFF;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
            <mxGeometry x="1482" y="513" width="255" height="61" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="40FTKYqt4oS-b7dHANUB-45" value="创建应用上下文对象" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1514.5" y="657.5" width="129" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-47" target="40FTKYqt4oS-b7dHANUB-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-47" target="40FTKYqt4oS-b7dHANUB-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1039" y="735" />
              <mxPoint x="1161" y="735" />
            </Array>
            <mxPoint x="1039" y="698.5" as="sourcePoint" />
            <mxPoint x="1161" y="770.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-47" value="基本属性配置" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="993.5" y="656.5" width="91" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-49" target="40FTKYqt4oS-b7dHANUB-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-49" target="40FTKYqt4oS-b7dHANUB-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-49" value="更新应用上下文" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1700.5" y="656.5" width="91" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-50" value="&lt;div&gt;加载配置&lt;/div&gt;&lt;div&gt;环境&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="882.5" y="771.5" width="66" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-51" value="&lt;div&gt;resourceLoader&lt;/div&gt;&lt;div&gt;资源加载器&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="954.5" y="771.5" width="99" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-52" value="配置监听" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1058.5" y="771.5" width="64" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-53" value="&lt;div&gt;加载启动&lt;/div&gt;&lt;div&gt;参数&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1128.5" y="771.5" width="65" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-62" value="准备环境所需bean 工厂" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1652.5" y="770.5" width="91" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=arrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-63" target="40FTKYqt4oS-b7dHANUB-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-63" value="通过工厂产生环境所需的bean" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1752.5" y="770.5" width="91" height="43" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=arrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-67" target="40FTKYqt4oS-b7dHANUB-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-67" value="&lt;div&gt;应用启动计时器结束计时&lt;/div&gt;&lt;div&gt;应用启动监听器结束监听&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1727" y="1000" width="141" height="60" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-69" value="&lt;div&gt;&lt;b&gt;SpringApplication&lt;/b&gt;&lt;/div&gt;&lt;b&gt;启动结束&lt;/b&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#99FF33;strokeColor=#006658;fontColor=#5C5C5C;rounded=0;labelBackgroundColor=none;labelBorderColor=none;" parent="1" vertex="1">
          <mxGeometry x="1725" y="1121" width="144" height="62" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.544;entryY=0.988;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=10;shape=link;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" source="n7Ov-Tm2yEQ00Mx2uHal-8" target="40FTKYqt4oS-b7dHANUB-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="263" y="879" />
              <mxPoint x="1355" y="879" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-99" value="获取一系列工厂对象(Spring 所需工厂、其他可自动配置的组件所需的工厂)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;" parent="40FTKYqt4oS-b7dHANUB-98" vertex="1" connectable="0">
          <mxGeometry x="-0.0586" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-11" target="40FTKYqt4oS-b7dHANUB-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-33" target="40FTKYqt4oS-b7dHANUB-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="40FTKYqt4oS-b7dHANUB-43" target="40FTKYqt4oS-b7dHANUB-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.477;entryY=0.035;entryDx=0;entryDy=0;entryPerimeter=0;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1039" y="735" />
              <mxPoint x="914" y="735" />
            </Array>
            <mxPoint x="1039" y="698.5" as="sourcePoint" />
            <mxPoint x="913.982" y="772.0050000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-16" value="&lt;div&gt;&lt;b&gt;SpringApplication： run()&lt;/b&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#E6E6E6;strokeColor=default;swimlaneFillColor=#2A2A2A;align=center;gradientColor=#CCCCCC;gradientDirection=radial;movable=0;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1" collapsed="1">
          <mxGeometry x="707.25" y="188" width="211" height="30" as="geometry">
            <mxRectangle x="707.25" y="188" width="1148" height="1918" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VUM5yKL2B6NaXVR3pMpZ-1" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;public ConfigurableApplicationContext &lt;span style=&quot;color:#ffc66d;&quot;&gt;run&lt;/span&gt;(String... args) {   &lt;br&gt;   StopWatch stopWatch = new StopWatch()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;   stopWatch.start()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   // spring &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;根容器&lt;br&gt;&lt;/span&gt;   ConfigurableApplicationContext context = &lt;span style=&quot;color:#cc7832;&quot;&gt;null;&lt;br&gt;&lt;/span&gt;   Collection&amp;lt;SpringBootExceptionReporter&amp;gt; exceptionReporters = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ArrayList&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   /*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * [TIP]&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * java.awt.headless&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;是&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;J2SE&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的一种模式，用于在缺失显示屏、鼠标或者键盘时的系统配置。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对于后端服务来讲，很多都是需要将这个属性设置为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; true &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;    configureHeadlessProperty()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="30" width="1148" height="190" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-2" value="&lt;font color=&quot;#696969&quot;&gt;[NOTE]&lt;/font&gt;&amp;nbsp; SpringApplicationRunListeners 启动器模块" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="220" width="1148" height="32" as="geometry">
            <mxRectangle y="220" width="1148" height="111" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-4" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * [TIP] META-INF/spring.factories&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * - spirng boot &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;默认的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; listener: EventPublishingRunListener  ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;用来广播前面提到的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 11 &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个默认监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * - SpringApplicationRunListener&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属于应用程序启动层面的监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;此时上下文还没有加载，如果通过&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; @Compnant &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;是起不了作用的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    */&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="nAMu1l2790qPKKq2EgGM-2" vertex="1">
          <mxGeometry y="30" width="1148" height="81" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-3" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   SpringApplicationRunListeners listeners = getRunListeners(args)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="252" width="1148" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-6" value="&lt;font color=&quot;#696969&quot;&gt;[NOTE]&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="292" width="1148" height="32" as="geometry">
            <mxRectangle y="292" width="1148" height="173" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-27" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/* [TIP] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; SpringApplicationRunListener -&amp;gt; starting()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对于默认&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; listener: EventPublishingRunListener -&amp;gt; starting()&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，该方法过滤出&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 11 &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个默认监听器中&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ApplicationStartingEvent &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 4&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个类：&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 1&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;LoggingApplicationListener ==&amp;gt;  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;检测正在使用的日志系统，默认是&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; logback&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，支持&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;种，&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    *                                    &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;优先级从高到低：&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;logback &amp;gt; log4j &amp;gt; javalog&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;。此时日志系统还没有初始化&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 2) BackgroundPreinitializer  ==&amp;gt;  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;另起一个线程实例化&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; Initializer &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;并调用其&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; run &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;方法，包括验证器、消息转换器等等&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 3) DelegatingApplicationListener  ==&amp;gt;  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;此时什么也没做，因为环境中没有配置&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context.listener.classes &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属性&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 4) LiquibaseServiceLocatorApplication  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    */&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="nAMu1l2790qPKKq2EgGM-6" vertex="1">
          <mxGeometry y="30" width="1148" height="143" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-5" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   listeners.starting();&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="324" width="1148" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-30" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   try &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;参数封装，也就是在命令行下启动应用带的参数，如&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;: --server.port=9000&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;ApplicationArguments applicationArguments = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;DefaultApplicationArguments(args)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="344" width="1148" height="57" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-8" value="&lt;font color=&quot;#696969&quot;&gt;[NOTE]&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="401" width="1148" height="225" as="geometry">
            <mxRectangle y="401" width="1148" height="32" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-32" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * [TIP] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; SpringApplicationRunListener -&amp;gt; environmentPrepared()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对于默认&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; listener: EventPublishingRunListener -&amp;gt; environmentPrepared()&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，该方法过滤出&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ApplicationEnvironmentPreparedEvent &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 7 &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个类：&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 1) ConfigFileApplicationListener  ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;加载&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; application.properties(yaml, xml) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;等文件&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 2) AnsiOutputApplicationListener ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;设置&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ansi &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;输出，将&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnsiOutput &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的属性&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; enabled &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;设置成&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;ALWAYS&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，即允许&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ANSI-colored &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;输出&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 3) LoggingApplicationListener ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; starting() &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 4) ClasspathLoggingApplicationListener&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 5) BackgroundPreinitializer  ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; starting() &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 6) DelegatingApplicationListener  ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置文件中&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context.listener.classes &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属性&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; starting() &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 7) FileEncodingApplicationListener  ==&amp;gt;  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;环境中&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; spring.mandatory-file-encoding &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属性&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       */&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=1;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;movable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="nAMu1l2790qPKKq2EgGM-8" vertex="1">
          <mxGeometry y="30" width="1148" height="195" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-14" value="&lt;font color=&quot;#696969&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&amp;nbsp;函数: &lt;/span&gt;&amp;nbsp; &lt;b&gt;prepareEnvironment &lt;/b&gt;&amp;nbsp; &lt;/font&gt;配置环境变量" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="626" width="1148" height="32" as="geometry">
            <mxRectangle y="626" width="1148" height="330" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZTEhFSGr_2ueTpztPOG-5" value="&lt;blockquote&gt;&lt;pre style=&quot;color: rgb(169, 183, 198); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;ConfigurableEnvironment &lt;span style=&quot;color:#ffc66d;&quot;&gt;prepareEnvironment&lt;/span&gt;(SpringApplicationRunListeners listeners&lt;span style=&quot;color:#cc7832;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;                                       &lt;/span&gt;ApplicationArguments applicationArguments) {&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;// Create and configure the environment&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;ConfigurableEnvironment environment = getOrCreateEnvironment()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;configureEnvironment(environment&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;applicationArguments.getSourceArgs())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;ConfigurationPropertySources.&lt;span style=&quot;font-style:italic;&quot;&gt;attach&lt;/span&gt;(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;listeners.environmentPrepared(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;bindToSpringApplication(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(!&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;isCustomEnvironment&lt;/span&gt;) {&lt;br&gt;      environment = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;EnvironmentConverter(getClassLoader()).convertEnvironmentIfNecessary(environment&lt;span style=&quot;color:#cc7832;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            &lt;/span&gt;deduceEnvironmentClass())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; PropertySources &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对它自己的递归依赖&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;   &lt;/span&gt;ConfigurationPropertySources.&lt;span style=&quot;font-style:italic;&quot;&gt;attach&lt;/span&gt;(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   return &lt;/span&gt;environment&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt; END &lt;/span&gt;&lt;/pre&gt;&lt;/blockquote&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;labelBackgroundColor=none;labelBorderColor=none;" parent="nAMu1l2790qPKKq2EgGM-14" vertex="1">
          <mxGeometry y="30" width="1148" height="300" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-10" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="658" width="1148" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-47" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   configureIgnoreBeanInfo(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;     &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; // &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;启动时&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; LOGO&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;   Banner printedBanner = printBanner(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="678" width="1148" height="104" as="geometry" />
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-8" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;[NOTE]&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="782" width="1148" height="32" as="geometry">
            <mxRectangle y="671.46" width="1148" height="280" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-9" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt; &lt;span style=&quot;color:#808080;&quot;&gt;     /*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * [TIP]&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * context &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;默认为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationConfigApplication &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;类型&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;如果是&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; servlet &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;项目，比如引入了&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; spring-boot-starter-web &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;包，&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationConfigServletWebServerApplicationContext &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;类型&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;如果是&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; recative &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;项目，比如引入&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; spring-boot-starter-webflux &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;包，&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationConfigReactiveWebServerApplicaitonContext &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;类型&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * -----------------------------------------------------------------------&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * context -&amp;gt; beanFactory -&amp;gt; beanDefinitionMap&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;现在有&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 5 &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; bean&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * org.springframework.context.annotation.internalConfigurationProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * org.springframework.context.event.internalEventListenerFactory&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * org.springframework.context.event.interalEventListenerProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * org.springframework.context.annotation.internalAutowiredAnnotationProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * org.springframework.context.annotation.internalCommonAnnotationProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;     &lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="YPqwouYHECMBbq-T0V8t-8" vertex="1">
          <mxGeometry y="30" width="1148" height="250" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-11" value="&lt;font color=&quot;#696969&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&amp;nbsp;函数:&amp;nbsp;&lt;/span&gt;&amp;nbsp; &lt;b&gt;createApplicationContext&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/font&gt; 应用上下文&lt;b&gt; &lt;br&gt;&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="814" width="1148" height="520" as="geometry">
            <mxRectangle y="814" width="1148" height="32" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--24" value="&lt;blockquote&gt;&lt;div style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:11.3pt;&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected &lt;/span&gt;ConfigurableApplicationContext &lt;span style=&quot;color:#ffc66d;&quot;&gt;createApplicationContext&lt;/span&gt;() {&lt;br&gt;   Class&amp;lt;?&amp;gt; contextClass = &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationContextClass&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(contextClass == &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;switch &lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webApplicationType&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;case &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SERVLET&lt;/span&gt;:&lt;br&gt; &lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="nAMu1l2790qPKKq2EgGM-11" vertex="1">
          <mxGeometry y="30" width="1148" height="120" as="geometry" />
        </mxCell>
        <mxCell id="VUM5yKL2B6NaXVR3pMpZ-2" value="&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&amp;nbsp; 构造函数:&amp;nbsp;&lt;/span&gt;&amp;nbsp; AnnotationConfigServletWebServerApplicationContext&lt;b&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/font&gt; Web应用上下文&lt;b&gt;&lt;br&gt;&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;" parent="nAMu1l2790qPKKq2EgGM-11" vertex="1" collapsed="1">
          <mxGeometry y="150" width="1148" height="32" as="geometry">
            <mxRectangle y="150" width="1148" height="120" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VUM5yKL2B6NaXVR3pMpZ-3" value="&lt;blockquote&gt;&lt;blockquote&gt;&lt;blockquote&gt;&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;public &lt;span style=&quot;color:#ffc66d;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/span&gt;() {&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;AnnotatedBeanDefinitionReader(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ClassPathBeanDefinitionScanner(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&lt;br&gt; END &lt;/span&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="VUM5yKL2B6NaXVR3pMpZ-2" vertex="1">
          <mxGeometry y="30" width="1148" height="90" as="geometry" />
        </mxCell>
        <mxCell id="VUM5yKL2B6NaXVR3pMpZ-4" value="&lt;blockquote&gt;&lt;div style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:11.3pt;&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color:#808080;&quot;&gt;               &lt;/span&gt;contextClass = Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DEFAULT_SERVLET_WEB_CONTEXT_CLASS&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;; &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;               break;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            case &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;REACTIVE&lt;/span&gt;:&lt;br&gt;              &lt;font color=&quot;#CCE5FF&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;font color=&quot;#CCE5FF&quot;&gt;// AnnotationConfig&lt;font color=&quot;#66B2FF&quot;&gt;Reactive&lt;/font&gt;WebServerApplicationContext;&lt;/font&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;               &lt;/span&gt;contextClass = Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DEFAULT_REACTIVE_WEB_CONTEXT_CLASS&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;; &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;               break;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            default&lt;/span&gt;:&lt;br&gt;               &lt;span style=&quot;color:#808080;&quot;&gt;&lt;font color=&quot;#CCE5FF&quot;&gt;// AnnotationConfigApplicationContext;&lt;/font&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;               &lt;/span&gt;contextClass = Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DEFAULT_CONTEXT_CLASS&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;      } &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(ClassNotFoundException ex) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;IllegalStateException(&lt;br&gt;               &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Unable create a default ApplicationContext, please specify an ApplicationContextClass&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;return &lt;/span&gt;(ConfigurableApplicationContext) BeanUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;instantiateClass&lt;/span&gt;(contextClass)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&lt;br&gt; END &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="nAMu1l2790qPKKq2EgGM-11" vertex="1">
          <mxGeometry y="182" width="1148" height="338" as="geometry" />
        </mxCell>
        <mxCell id="nAMu1l2790qPKKq2EgGM-13" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      context =&lt;font color=&quot;#333333&quot;&gt; &lt;span style=&quot;background-color: rgb(103, 171, 159);&quot;&gt;createApplicationContext();&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="1334" width="1148" height="18" as="geometry" />
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-48" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   exceptionReporters = getSpringFactoriesInstances(SpringBootExceptionReporter.&lt;span style=&quot;color:#cc7832;&quot;&gt;class,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;           new &lt;/span&gt;Class[]{ConfigurableApplicationContext.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;}&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;context)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="1352" width="1148" height="48" as="geometry" />
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-49" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [NOTE]&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="1400" width="1148" height="32" as="geometry">
            <mxRectangle y="939" width="1148" height="350" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-50" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/* **********************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * context -&amp;gt; beanFactory -&amp;gt; beanDefinitionMap , bean &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;工厂中添加了&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; spring boot &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;启动类&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * **********************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * [TIP] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;该方法里的进行了 两次监听器过滤&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * [a] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; SpringApplicationRunListener -&amp;gt; contextPrepared()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *        &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对于默认&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; listener: EventPublishingRunListener -&amp;gt; contextPrepared()&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，该方法过滤出&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *        &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ApplicationContextInitializedEvent &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 2&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个类：&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     1) BackgroundPreinitializer ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; environmentPrepared() &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     2) DelegatingApplicationListener  ==&amp;gt;  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置文件中&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context.listener.classes &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属性&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; environmentPrepared() &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * [b] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; SpringApplicationRunListener -&amp;gt; contextLoaded()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *        &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对于默认&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; listener: EventPublishingRunListener -&amp;gt; contextLoaded&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，该方法过滤出&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *        &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ApplicationPreparedEvent &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 4&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个类：&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     1) CloudFoundryVcapEnvironmentPostProcessor ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     2) ConfigFileApplicationListener  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     3) LoggingApplicationListener  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     4) BackgroundPreinitializer ==&amp;gt; &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *     5) DelegatingApplicationListener  ==&amp;gt;  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置文件中&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context.listener.classes &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属性&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;（前面也有该监听器）&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       */&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-49" vertex="1">
          <mxGeometry y="30" width="1148" height="320" as="geometry" />
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-3" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;     &lt;font style=&quot;background-color: rgb(103, 171, 159);&quot; color=&quot;#333333&quot;&gt; prepareContext(context, environment, listeners, applicationArguments, printedBanner); &lt;/font&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="1432" width="1148" height="29" as="geometry" />
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-4" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [NOTE]&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="1461" width="1148" height="32" as="geometry">
            <mxRectangle y="590" width="1148" height="236" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tuWjU3P26exEO4xt8RGJ-1" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/* ***************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * context -&amp;gt; beanFactory -&amp;gt; beanDefinitionMap, &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;添加各组件和自定义的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; bean&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * ****************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *  &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;上线文&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;  AbstractApplicationContext -&amp;gt; finishRefresh()&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;， 基于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ContextRefreshedEvent &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;过滤&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 1) DelegatingApplicationListener ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 2) ConditionEvaluationReportLoggingListener$ConditionEvaluationReportListener  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 3) ClearCachesApplicationListener  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 4) SharedMetadataReaderFactoryContextInitializer$SharedMetadataReaderFactoryBean  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 5) ScheduledAnnotationBeanPostProcessor  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 6) ResourceUrlProvider  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       */&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="YPqwouYHECMBbq-T0V8t-4" vertex="1">
          <mxGeometry y="30" width="1148" height="206" as="geometry" />
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-5" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;     &lt;span style=&quot;background-color: rgb(103, 171, 159);&quot;&gt;&lt;font color=&quot;#333333&quot;&gt; refreshContext(context);&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="1493" width="1148" height="20" as="geometry" />
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-6" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [NOTE]&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1" collapsed="1">
          <mxGeometry y="1513" width="1148" height="32" as="geometry">
            <mxRectangle y="642" width="1148" height="160" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d7fd8IWjxDv_xDmfvWso-3" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/* ***************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对于默认&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; listener: EventPublishingRunListener -&amp;gt; ()&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，该方法过滤出&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ServletWebServerInitializedEvent &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 2&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个类：&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 1) DelegatingApplicationListener  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       * 2) ServerPortInfoApplicationContextInitializer  ==&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       ***************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       */&lt;/span&gt;&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="YPqwouYHECMBbq-T0V8t-6" vertex="1">
          <mxGeometry y="30" width="1148" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YPqwouYHECMBbq-T0V8t-7" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;     &lt;span style=&quot;background-color: rgb(103, 171, 159);&quot;&gt;&lt;font color=&quot;#333333&quot;&gt; afterRefresh(context, applicationArguments);&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="1545" width="1148" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-20" value="&lt;span style=&quot;color:#808080;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;stopWatch.stop()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;logStartupInfo&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;StartupInfoLogger(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;mainApplicationClass&lt;/span&gt;).logStarted(getApplicationLog()&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;stopWatch)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;/* [TIP] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; SpringApplicationRunListener -&amp;gt; started() */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;listeners.started(context)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;callRunners(context&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;applicationArguments)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;} &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(Throwable ex) {&lt;br&gt;      handleRunFailure(context&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;exceptionReporters&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;listeners)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      throw new &lt;/span&gt;IllegalStateException(ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;/* [TIP] &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;监听器&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; SpringApplicationRunListener -&amp;gt; running() */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;listeners.running(context)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;} &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(Throwable ex) {&lt;br&gt;      handleRunFailure(context&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;exceptionReporters&lt;span style=&quot;color:#cc7832;&quot;&gt;, null&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      throw new &lt;/span&gt;IllegalStateException(ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;return &lt;/span&gt;context&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;/pre&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=1;spacingTop=-16;spacingBottom=-16;" parent="9uRca3TcGE-6TtlpwIYY-16" vertex="1">
          <mxGeometry y="1565" width="1148" height="353" as="geometry" />
        </mxCell>
        <mxCell id="8ZTEhFSGr_2ueTpztPOG-7" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.452;entryY=-0.007;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;opacity=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="527" y="1627.2210199099768" as="sourcePoint" />
            <mxPoint x="702.616" y="1641.4665835475575" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8ZTEhFSGr_2ueTpztPOG-8" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.227;entryY=-0.012;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;opacity=0;" parent="1" target="8ZTEhFSGr_2ueTpztPOG-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1930" y="524.0566987057659" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gxkGEY3ZNmsBvGvkiabz-4" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-230.5" y="217" width="606" height="183" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="gxkGEY3ZNmsBvGvkiabz-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="302.5" y="46" as="sourcePoint" />
            <mxPoint x="445.5" y="125" as="targetPoint" />
            <Array as="points">
              <mxPoint x="297.5" y="46" />
              <mxPoint x="297.5" y="86" />
              <mxPoint x="445.5" y="86" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="n7Ov-Tm2yEQ00Mx2uHal-3" value="配置source" style="whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="gxkGEY3ZNmsBvGvkiabz-4" vertex="1">
          <mxGeometry y="123" width="95" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n7Ov-Tm2yEQ00Mx2uHal-5" value="配置是否为web环境" style="whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="gxkGEY3ZNmsBvGvkiabz-4" vertex="1">
          <mxGeometry x="125" y="122" width="82" height="60" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="gxkGEY3ZNmsBvGvkiabz-4" target="n7Ov-Tm2yEQ00Mx2uHal-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="297" y="86" />
              <mxPoint x="166" y="86" />
            </Array>
            <mxPoint x="296.5" y="51" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n7Ov-Tm2yEQ00Mx2uHal-7" value="&lt;div&gt;创建初始化构造器&lt;/div&gt;获取所需工厂集合的实例" style="whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="gxkGEY3ZNmsBvGvkiabz-4" vertex="1">
          <mxGeometry x="223" y="122" width="147" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n7Ov-Tm2yEQ00Mx2uHal-8" value="&lt;div&gt;创建应用监听器&lt;/div&gt;&lt;div&gt;获取所需工厂集合的实例&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="gxkGEY3ZNmsBvGvkiabz-4" vertex="1">
          <mxGeometry x="381" y="122" width="116" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n7Ov-Tm2yEQ00Mx2uHal-9" value="配置应用主方法所在类" style="whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="gxkGEY3ZNmsBvGvkiabz-4" vertex="1">
          <mxGeometry x="512" y="122" width="94" height="60" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="gxkGEY3ZNmsBvGvkiabz-4" target="n7Ov-Tm2yEQ00Mx2uHal-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="297" y="86" />
              <mxPoint x="48" y="86" />
            </Array>
            <mxPoint x="299.5" y="86" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="gxkGEY3ZNmsBvGvkiabz-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="297.5" y="52" as="sourcePoint" />
            <mxPoint x="560.5" y="123" as="targetPoint" />
            <Array as="points">
              <mxPoint x="298" y="86" />
              <mxPoint x="561" y="86" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gxkGEY3ZNmsBvGvkiabz-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="gxkGEY3ZNmsBvGvkiabz-4" target="n7Ov-Tm2yEQ00Mx2uHal-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="297" as="sourcePoint" />
            <mxPoint x="297" y="78" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--1" value="" style="group;shadow=1;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="80" y="530" width="648" height="422" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-94" value="" style="whiteSpace=wrap;html=1;rounded=0;gradientDirection=radial;glass=0;shadow=0;sketch=0;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="vwD9tP91Ca3Sf5LURha--1" vertex="1" visible="0">
          <mxGeometry y="29" width="648" height="393" as="geometry">
            <mxRectangle x="41" y="734" width="155" height="24" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RSLFzYsw8J-lE13sV5hV-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="40FTKYqt4oS-b7dHANUB-94" source="40FTKYqt4oS-b7dHANUB-105" target="40FTKYqt4oS-b7dHANUB-106" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="82" y="212" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-105" value="获取传入的工厂类名、类加载器" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="40FTKYqt4oS-b7dHANUB-94" vertex="1">
          <mxGeometry x="21.5" y="60.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RSLFzYsw8J-lE13sV5hV-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.525;entryDx=0;entryDy=0;entryPerimeter=0;" parent="40FTKYqt4oS-b7dHANUB-94" source="40FTKYqt4oS-b7dHANUB-106" target="40FTKYqt4oS-b7dHANUB-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-106" value="通过类加载器，获取 spring.factories 文件" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="40FTKYqt4oS-b7dHANUB-94" vertex="1">
          <mxGeometry x="111.5" y="181.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RSLFzYsw8J-lE13sV5hV-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1.013;exitY=0.508;exitDx=0;exitDy=0;exitPerimeter=0;" parent="40FTKYqt4oS-b7dHANUB-94" source="40FTKYqt4oS-b7dHANUB-108" target="40FTKYqt4oS-b7dHANUB-110" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="401" y="325" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-108" value="&lt;div&gt;获取文件中&lt;/div&gt;&lt;div&gt;工厂类全路径&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="40FTKYqt4oS-b7dHANUB-94" vertex="1">
          <mxGeometry x="226.5" y="294.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RSLFzYsw8J-lE13sV5hV-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.521;entryY=1.008;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.004;exitY=0.517;exitDx=0;exitDy=0;exitPerimeter=0;" parent="40FTKYqt4oS-b7dHANUB-94" source="40FTKYqt4oS-b7dHANUB-110" target="40FTKYqt4oS-b7dHANUB-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-110" value="通过类路径反射得到工厂class 对象，构造方法" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="40FTKYqt4oS-b7dHANUB-94" vertex="1">
          <mxGeometry x="340.5" y="185.5" width="120" height="59" as="geometry" />
        </mxCell>
        <mxCell id="40FTKYqt4oS-b7dHANUB-112" value="生成工厂类实例返回" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="40FTKYqt4oS-b7dHANUB-94" vertex="1">
          <mxGeometry x="443.5" y="60.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--9" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d6b656;endArrow=none;endFill=0;width=4;fillColor=#fff2cc;" parent="1" source="RSLFzYsw8J-lE13sV5hV-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="545" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--10" value="&amp;nbsp;使用&amp;nbsp; " style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#3399FF;" parent="vwD9tP91Ca3Sf5LURha--9" vertex="1" connectable="0">
          <mxGeometry x="-0.3277" y="-2" relative="1" as="geometry">
            <mxPoint y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RSLFzYsw8J-lE13sV5hV-2" value="SpringBoot 自动化配置" style="treeFolding=1;whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="1" vertex="1" collapsed="1">
          <mxGeometry x="80" y="530" width="162" height="29" as="geometry" />
        </mxCell>
        <mxCell id="RSLFzYsw8J-lE13sV5hV-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.125;entryY=0.025;entryDx=0;entryDy=0;entryPerimeter=0;opacity=0;" parent="1" source="RSLFzYsw8J-lE13sV5hV-2" target="40FTKYqt4oS-b7dHANUB-94" edge="1" visible="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;strokeColor=#d6b656;fillColor=#fff2cc;width=4;endArrow=none;endFill=0;" parent="1" source="n7Ov-Tm2yEQ00Mx2uHal-7" target="RSLFzYsw8J-lE13sV5hV-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--8" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d6b656;endArrow=none;endFill=0;endSize=4;startSize=4;width=4;fillColor=#fff2cc;" parent="1" source="n7Ov-Tm2yEQ00Mx2uHal-8" target="RSLFzYsw8J-lE13sV5hV-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--12" value="&lt;div&gt;&amp;nbsp;创建&amp;nbsp; &lt;br&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#3399FF;" parent="vwD9tP91Ca3Sf5LURha--8" vertex="1" connectable="0">
          <mxGeometry x="0.4846" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W10lVTD3BnioZW55O1p4-21" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;SpringApplication： constructor()&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="swimlane;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;labelBorderColor=none;sketch=0;strokeColor=#000000;strokeWidth=1;fillColor=#E6E6E6;gradientColor=#CCCCCC;gradientDirection=radial;align=center;spacingLeft=24;swimlaneFillColor=#2A2A2A;startSize=32;fontStyle=0;fontColor=#a9b7c7;" parent="1" vertex="1" collapsed="1">
          <mxGeometry x="-52.25" y="186" width="235" height="28" as="geometry">
            <mxRectangle x="-52.25" y="186" width="1351" height="1130" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W10lVTD3BnioZW55O1p4-20" value="&lt;pre style=&quot;background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;color: rgb(187, 181, 41); font-size: 12px;&quot;&gt;@SuppressWarnings&lt;/span&gt;({&lt;span style=&quot;color: rgb(106, 135, 89); font-size: 12px;&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 135, 89); font-size: 12px;&quot;&gt;&quot;rawtypes&quot;&lt;/span&gt;})&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color: rgb(255, 198, 109); font-size: 12px;&quot;&gt;SpringApplication&lt;/span&gt;(ResourceLoader resourceLoader&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;, &lt;/span&gt;Class&amp;lt;?&amp;gt;... primarySources) {&lt;br style=&quot;font-size: 12px;&quot;&gt;   &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;&lt;br&gt;   this&lt;/span&gt;.&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 12px;&quot;&gt;resourceLoader &lt;/span&gt;= resourceLoader&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;Assert.&lt;span style=&quot;font-style: italic; font-size: 12px;&quot;&gt;notNull&lt;/span&gt;(primarySources&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 135, 89); font-size: 12px;&quot;&gt;&quot;PrimarySources must not be null&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;br&gt;   this&lt;/span&gt;.&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 12px;&quot;&gt;primarySources &lt;/span&gt;= &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;new &lt;/span&gt;LinkedHashSet&amp;lt;&amp;gt;(Arrays.&lt;span style=&quot;font-style: italic; font-size: 12px;&quot;&gt;asList&lt;/span&gt;(primarySources))&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;&lt;br&gt;   /**&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;应用类型标志 &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;一般程序、&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;Servlet-WEB&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;、 &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;Reactive-WEB}, &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;里面采用硬编码，强制写死反射的类名称&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;*&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;    *  WARINING: &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;加载器问题？&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;*/&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 12px;&quot;&gt;webApplicationType &lt;/span&gt;= WebApplicationType.&lt;span style=&quot;font-style: italic; font-size: 12px;&quot;&gt;deduceFromClasspath&lt;/span&gt;()&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;/*&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * [TIP]&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 1. &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;获取&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; ApplicationContextInitializer &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;类中的实现类（工厂类）的名称&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 2. &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;通过反射，对各个工厂类进行实例化&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * ----------------------------------------------------------------------&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;细节：如何拿到各个&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;ApplicationContextInializer &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;下工厂类的名称 ？&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    *   &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;首先，获取所有模块下&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; META-INF/spring.factories &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;文件中的数据， 生成&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; MAP,&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    *   &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;再 拿到&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; key &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;是&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; ApplicationContextInitializer &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;的值，默认&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; 7 &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;个&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 1) DelegatingApplicationContextInitializer  ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 2) SharedMetadataReaderFactoryContextInitializer ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 3) ContextIdApplicationContextInitializer  ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 4) ConfigurationWarningsApplicationContextInitializer  ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 5) RSocketPortInfoApplicationContextInitializer  ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 6) ServerPortInfoApplicationApplicationContextInitializer ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 7) ConditionEvaluationReportLoggingListener  ==&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    */&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;   &lt;/span&gt;Collection contextInitializerFactories = (Collection) getSpringFactoriesInstances(ApplicationContextInitializer.&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;setInitializers(contextInitializerFactories)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;/*&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * [TIP] META-INF/spring.factories&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;获取监听器&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;默认&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; 11 &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;个&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;具体使用的地方&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;请查看&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt; run()&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * --------------------------------------------&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 1) CloudFoundryVcapEnvironmentPostProcessor&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 2) ConfigFileApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 3) AnsiOutputApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 4) LoggingApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 5) ClasspathLoggingApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 6) BackgroundPreinitializer&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 7) DelegatingApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 8) ParentContextCloserApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 9) ClearCachesApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 10) FileEncodingApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    * 11) LiquibaseServiceLocatorApplicationListener&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;    */&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;   &lt;/span&gt;Collection listenerFactories = (Collection) getSpringFactoriesInstances(ApplicationListener.&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;setListeners(listenerFactories)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 12px;&quot;&gt;// [TIP] &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;获取启动类的相关信息&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 12px;&quot;&gt;mainApplicationClass &lt;/span&gt;= &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;}&lt;/pre&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=none;spacing=2;fontSize=12;spacingTop=-16;" parent="W10lVTD3BnioZW55O1p4-21" vertex="1">
          <mxGeometry y="30" width="958" height="840" as="geometry" />
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-5" value="&lt;font color=&quot;#a9b7c7&quot;&gt;deduceMainApplicationClass()&lt;/font&gt;" style="swimlane;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=20;spacingBottom=0;spacing=-2;spacingTop=0;startSize=18;swimlaneFillColor=none;shadow=0;fontStyle=1;fillColor=#404040;fontSize=11;strokeColor=#4A4A4A;horizontal=1;" parent="W10lVTD3BnioZW55O1p4-21" vertex="1" collapsed="1">
          <mxGeometry x="191" y="828" width="220" height="18" as="geometry">
            <mxRectangle x="191" y="828" width="589" height="298" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uRca3TcGE-6TtlpwIYY-6" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;Class&amp;lt;?&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;deduceMainApplicationClass&lt;/span&gt;() {&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;      StackTraceElement[] stackTrace = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;RuntimeException().getStackTrace()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      for &lt;/span&gt;(StackTraceElement stackTraceElement : stackTrace) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;main&quot;&lt;/span&gt;.equals(stackTraceElement.getMethodName())) {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;return &lt;/span&gt;Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(stackTraceElement.getClassName())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;      }&lt;br&gt;   } &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(ClassNotFoundException ex) {&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;// Swallow and continue&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;return null;&lt;br&gt;&lt;/span&gt;}&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="9uRca3TcGE-6TtlpwIYY-5" vertex="1">
          <mxGeometry x="7" y="19" width="528" height="242" as="geometry" />
        </mxCell>
        <mxCell id="vwD9tP91Ca3Sf5LURha--22" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;opacity=0;" parent="1" target="vwD9tP91Ca3Sf5LURha--24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1972.094337175442" y="721.6724164524426" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8skL9TeM09e-esMboSfj-1" value="创建应用上下文对象" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="900" y="1076" width="199" height="75" as="geometry" />
        </mxCell>
        <mxCell id="8skL9TeM09e-esMboSfj-4" value="普通应用上下文" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="698.5" y="1250" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8skL9TeM09e-esMboSfj-5" value="web 应用上下文" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="903" y="1250" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8skL9TeM09e-esMboSfj-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=arrow;fillColor=#fff2cc;strokeColor=#d6b656;entryX=0.511;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.501;exitY=1.002;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="8skL9TeM09e-esMboSfj-1" target="8skL9TeM09e-esMboSfj-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1003" y="1180" as="sourcePoint" />
            <mxPoint x="1003" y="1230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8skL9TeM09e-esMboSfj-6" value="响应式 web 应用上下文" style="whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#b85450;rounded=0;gradientColor=#FFD678;gradientDirection=radial;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="1118.5" y="1250" width="175" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ropbyh3dH2DIl17qiswL-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;exitX=0.505;exitY=0.993;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.534;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="8skL9TeM09e-esMboSfj-1" target="8skL9TeM09e-esMboSfj-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1010" y="1160" as="sourcePoint" />
            <mxPoint x="797" y="1257" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8skL9TeM09e-esMboSfj-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shape=flexArrow;fillColor=#fff2cc;strokeColor=#d6b656;exitX=0.503;exitY=0.987;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.464;entryY=-0.086;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="8skL9TeM09e-esMboSfj-1" target="8skL9TeM09e-esMboSfj-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="930" y="1190" as="sourcePoint" />
            <mxPoint x="787.5" y="1244" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="35jOfchApEARZ3dhziIY-1" value="&lt;div&gt;&lt;b&gt;SpringApplication：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;createApplication() &lt;br&gt;&lt;/b&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#E6E6E6;strokeColor=default;swimlaneFillColor=#2A2A2A;align=center;gradientColor=#CCCCCC;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1" collapsed="1">
          <mxGeometry x="900" y="1100" width="199" height="50" as="geometry">
            <mxRectangle x="900" y="1100" width="1148" height="805" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="35jOfchApEARZ3dhziIY-19" value="&lt;div style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:11.3pt;&quot;&gt;&lt;pre&gt;/*&lt;br&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * [TIP] ConfigurableApplication 是 JDK SPI 接口&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * context &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;默认为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationConfigApplication &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;类型&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;如果是&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; servlet &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;项目，比如引入了&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; spring-boot-starter-web &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;包，&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationConfigServletWebServerApplicationContext &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;类型&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;如果是&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; recative &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;项目，比如引入&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; spring-boot-starter-webflux &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;包，&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; context &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationConfigReactiveWebServerApplicaitonContext &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;类型&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * -----------------------------------------------------------------------&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * context -&amp;gt; beanFactory -&amp;gt; beanDefinitionMap&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;现在有&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; 5 &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;个&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; bean&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; *************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * org.springframework.context.annotation.internalConfigurationProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * org.springframework.context.event.internalEventListenerFactory&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * org.springframework.context.event.interalEventListenerProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * org.springframework.context.annotation.internalAutowiredAnnotationProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; * org.springframework.context.annotation.internalCommonAnnotationProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; */&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected &lt;/span&gt;ConfigurableApplicationContext &lt;span style=&quot;color:#ffc66d;&quot;&gt;createApplicationContext&lt;/span&gt;() {&lt;br&gt;   Class&amp;lt;?&amp;gt; contextClass = &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationContextClass&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(contextClass == &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;switch &lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webApplicationType&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;case &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SERVLET&lt;/span&gt;:&lt;br&gt; &lt;br&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="35jOfchApEARZ3dhziIY-1" vertex="1">
          <mxGeometry y="50" width="1148" height="385" as="geometry" />
        </mxCell>
        <mxCell id="35jOfchApEARZ3dhziIY-20" value="&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&amp;nbsp; 构造函数:&amp;nbsp;&lt;/span&gt;&amp;nbsp; AnnotationConfigServletWebServerApplicationContext&lt;b&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/font&gt; Web应用上下文" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;labelBackgroundColor=none;" parent="35jOfchApEARZ3dhziIY-1" vertex="1" collapsed="1">
          <mxGeometry y="435" width="1148" height="32" as="geometry">
            <mxRectangle y="435" width="1148" height="120" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="35jOfchApEARZ3dhziIY-21" value="&lt;blockquote&gt;&lt;blockquote&gt;&lt;blockquote&gt;&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;public &lt;span style=&quot;color:#ffc66d;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/span&gt;() {&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;AnnotatedBeanDefinitionReader(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ClassPathBeanDefinitionScanner(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&lt;br&gt; END &lt;/span&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="35jOfchApEARZ3dhziIY-20" vertex="1">
          <mxGeometry y="30" width="1148" height="90" as="geometry" />
        </mxCell>
        <mxCell id="35jOfchApEARZ3dhziIY-22" value="&lt;div style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:11.3pt;&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color:#808080;&quot;&gt;               &lt;/span&gt;contextClass = Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DEFAULT_SERVLET_WEB_CONTEXT_CLASS&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;; &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;               break;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            case &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;REACTIVE&lt;/span&gt;:&lt;br&gt;              &lt;font color=&quot;#CCE5FF&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;font color=&quot;#CCE5FF&quot;&gt;// AnnotationConfig&lt;font color=&quot;#66B2FF&quot;&gt;Reactive&lt;/font&gt;WebServerApplicationContext;   &lt;/font&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;               &lt;/span&gt;contextClass = Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DEFAULT_REACTIVE_WEB_CONTEXT_CLASS&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;; &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;               break;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            default&lt;/span&gt;:&lt;br&gt;               &lt;span style=&quot;color:#808080;&quot;&gt;&lt;font color=&quot;#CCE5FF&quot;&gt;// AnnotationConfigApplicationContext;&lt;/font&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;               &lt;/span&gt;contextClass = Class.&lt;span style=&quot;font-style:italic;&quot;&gt;forName&lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DEFAULT_CONTEXT_CLASS&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;      } &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(ClassNotFoundException ex) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;IllegalStateException(&lt;br&gt;               &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Unable create a default ApplicationContext, please specify an ApplicationContextClass&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;return &lt;/span&gt;(ConfigurableApplicationContext) BeanUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;instantiateClass&lt;/span&gt;(contextClass)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;span style=&quot;background-color: rgb(255, 255, 153);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="35jOfchApEARZ3dhziIY-1" vertex="1">
          <mxGeometry y="467" width="1148" height="338" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="XZKh2FsLszlmuIVQkZ0g" name="模板">
    <mxGraphModel dx="2261" dy="-423" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="BcKV4RThV7wnItwalJRa-1" value="模板" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#dae8fc;strokeColor=#6c8ebf;swimlaneFillColor=#2A2A2A;align=center;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1" collapsed="1">
          <mxGeometry x="-800" y="1400" width="226" height="30" as="geometry">
            <mxRectangle x="-800" y="1400" width="780" height="307" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e71Uzrt7c08OWvcH_wXr-1" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   列表容器&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=none;fontSize=11;fontColor=default;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;" parent="BcKV4RThV7wnItwalJRa-1" vertex="1">
          <mxGeometry y="30" width="780" height="70" as="geometry">
            <mxRectangle y="30" width="1068" height="32" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e71Uzrt7c08OWvcH_wXr-2" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// 第一项&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="e71Uzrt7c08OWvcH_wXr-1" vertex="1">
          <mxGeometry y="30" width="780" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e71Uzrt7c08OWvcH_wXr-5" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// 第二项&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="e71Uzrt7c08OWvcH_wXr-1" vertex="1">
          <mxGeometry y="50" width="780" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SX1aYR_A9BXUWQeFDGu3-1" value="列表容器" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#66B2FF;strokeColor=default;swimlaneFillColor=#2A2A2A;align=center;gradientColor=#99CCFF;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="BcKV4RThV7wnItwalJRa-1" vertex="1">
          <mxGeometry y="100" width="780" height="70" as="geometry">
            <mxRectangle x="-220" y="1343" width="226" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SX1aYR_A9BXUWQeFDGu3-3" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// 第一项&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="SX1aYR_A9BXUWQeFDGu3-1" vertex="1">
          <mxGeometry y="30" width="780" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SX1aYR_A9BXUWQeFDGu3-4" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// 第二项&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="SX1aYR_A9BXUWQeFDGu3-1" vertex="1">
          <mxGeometry y="50" width="780" height="20" as="geometry" />
        </mxCell>
        <mxCell id="jhuJF522afyZb57WAAGo-24" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   单纯容器&lt;/pre&gt;" style="swimlane;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;labelBorderColor=none;sketch=0;strokeColor=none;strokeWidth=1;fillColor=#2A2A2A;gradientColor=none;gradientDirection=radial;align=left;spacingLeft=24;" parent="BcKV4RThV7wnItwalJRa-1" vertex="1">
          <mxGeometry y="170" width="780" height="105" as="geometry">
            <mxRectangle x="-1311" y="1680" width="1068" height="32" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jhuJF522afyZb57WAAGo-26" value="&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;// 可移动文本块&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/blockquote&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;sketch=1;" parent="jhuJF522afyZb57WAAGo-24" vertex="1">
          <mxGeometry y="29" width="690" height="75" as="geometry" />
        </mxCell>
        <mxCell id="WVnjrfCuOSrpHhbDAGAp-8" value="&lt;p&gt;单纯容器&lt;/p&gt;" style="swimlane;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;labelBorderColor=none;sketch=0;strokeColor=none;strokeWidth=1;fillColor=#E6E6E6;gradientColor=#CCCCCC;gradientDirection=radial;align=center;spacingLeft=24;swimlaneFillColor=#2A2A2A;startSize=32;fontStyle=0" parent="BcKV4RThV7wnItwalJRa-1" vertex="1" collapsed="1">
          <mxGeometry y="275" width="780" height="32" as="geometry">
            <mxRectangle y="275" width="780" height="200" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WVnjrfCuOSrpHhbDAGAp-9" value="&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;// 可移动文本块&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/blockquote&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;sketch=1;" parent="WVnjrfCuOSrpHhbDAGAp-8" vertex="1">
          <mxGeometry y="30" width="640" height="170" as="geometry" />
        </mxCell>
        <mxCell id="_xwUst9Ik7NCfyYxeY_D-2" value="" style="group;strokeColor=none;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-760" y="1931" width="759" height="466.11" as="geometry" />
        </mxCell>
        <mxCell id="Ywc_j0S9oqkA0mySdZ8l-1" value="" style="group" parent="_xwUst9Ik7NCfyYxeY_D-2" vertex="1" connectable="0">
          <mxGeometry x="-40" y="1.1285347043701799" width="759" height="327.24095115681234" as="geometry" />
        </mxCell>
        <mxCell id="Dh8GHB6VN_cx_Wh-ogJ1-1" value="&lt;b&gt;（-）prepareEnvironment&lt;/b&gt;" style="treeFolding=1;rounded=0;whiteSpace=wrap;html=1;gradientColor=#CCCCCC;direction=east;gradientDirection=radial;strokeColor=#A8A8A8;" parent="Ywc_j0S9oqkA0mySdZ8l-1" vertex="1">
          <mxGeometry width="166" height="36.113110539845756" as="geometry" />
        </mxCell>
        <mxCell id="Dh8GHB6VN_cx_Wh-ogJ1-2" value="" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=2;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#E6E6E6;strokeColor=default;swimlaneFillColor=#2A2A2A;align=center;gradientColor=#CCCCCC;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;swimlaneLine=0;strokeWidth=2;" parent="Ywc_j0S9oqkA0mySdZ8l-1" vertex="1">
          <mxGeometry x="1" y="34.98146529562982" width="758" height="292.2594858611825" as="geometry">
            <mxRectangle x="360" y="1616" width="226" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rPbQKGKAON8f-6q1ejDV-1" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;opacity=0;" parent="Dh8GHB6VN_cx_Wh-ogJ1-2" source="2Tm8GPOGpowtzJp6OFYj-1" target="Dh8GHB6VN_cx_Wh-ogJ1-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2Tm8GPOGpowtzJp6OFYj-1" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;strokeColor=none;strokeWidth=2;gradientColor=none;gradientDirection=radial;fillColor=#2b2b2b;" parent="Dh8GHB6VN_cx_Wh-ogJ1-2" vertex="1">
          <mxGeometry y="2" width="758" height="13.542416452442158" as="geometry" />
        </mxCell>
        <mxCell id="Dh8GHB6VN_cx_Wh-ogJ1-3" value="&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;ConfigurableEnvironment &lt;span style=&quot;color:#ffc66d;&quot;&gt;prepareEnvironment&lt;/span&gt;(SpringApplicationRunListeners listeners&lt;span style=&quot;color:#cc7832;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;                                       &lt;/span&gt;ApplicationArguments applicationArguments) {&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;// Create and configure the environment&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;ConfigurableEnvironment environment = getOrCreateEnvironment()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;configureEnvironment(environment&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;applicationArguments.getSourceArgs())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;ConfigurationPropertySources.&lt;span style=&quot;font-style:italic;&quot;&gt;attach&lt;/span&gt;(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;listeners.environmentPrepared(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;bindToSpringApplication(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(!&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;isCustomEnvironment&lt;/span&gt;) {&lt;br&gt;      environment = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;EnvironmentConverter(getClassLoader()).convertEnvironmentIfNecessary(environment&lt;span style=&quot;color:#cc7832;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            &lt;/span&gt;deduceEnvironmentClass())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; PropertySources &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对它自己的递归依赖&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;   &lt;/span&gt;ConfigurationPropertySources.&lt;span style=&quot;font-style:italic;&quot;&gt;attach&lt;/span&gt;(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   return &lt;/span&gt;environment&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;&lt;/blockquote&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="Dh8GHB6VN_cx_Wh-ogJ1-2" vertex="1">
          <mxGeometry y="15.542416452442158" width="758" height="274.46" as="geometry" />
        </mxCell>
        <mxCell id="rPbQKGKAON8f-6q1ejDV-4" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;strokeColor=none;strokeWidth=2;fillColor=#deddda;gradientColor=none;gradientDirection=radial;" parent="Dh8GHB6VN_cx_Wh-ogJ1-2" vertex="1">
          <mxGeometry y="290.00241645244216" width="758" height="2.2570694087403598" as="geometry" />
        </mxCell>
        <mxCell id="Dh8GHB6VN_cx_Wh-ogJ1-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.452;entryY=-0.007;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;opacity=0;" parent="Ywc_j0S9oqkA0mySdZ8l-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="168" y="103.22248520560662" as="sourcePoint" />
            <mxPoint x="343.616" y="117.46804884318759" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dh8GHB6VN_cx_Wh-ogJ1-5" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.227;entryY=-0.012;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;opacity=0;" parent="Ywc_j0S9oqkA0mySdZ8l-1" source="Dh8GHB6VN_cx_Wh-ogJ1-1" target="Dh8GHB6VN_cx_Wh-ogJ1-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dh8GHB6VN_cx_Wh-ogJ1-6" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.162;entryY=-0.014;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;opacity=0;" parent="Ywc_j0S9oqkA0mySdZ8l-1" source="Dh8GHB6VN_cx_Wh-ogJ1-1" target="Dh8GHB6VN_cx_Wh-ogJ1-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-1" value="" style="whiteSpace=wrap;html=1;rounded=0;gradientDirection=radial;glass=0;shadow=0;sketch=0;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-800" y="2339" width="648" height="393" as="geometry">
            <mxRectangle x="41" y="734" width="155" height="24" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="Tx6gN8MasFEGLDQZ1Iku-1" source="Tx6gN8MasFEGLDQZ1Iku-3" target="Tx6gN8MasFEGLDQZ1Iku-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="82" y="212" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-3" value="获取传入的工厂类名、类加载器" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" vertex="1">
          <mxGeometry x="21.5" y="60.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.525;entryDx=0;entryDy=0;entryPerimeter=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" source="Tx6gN8MasFEGLDQZ1Iku-5" target="Tx6gN8MasFEGLDQZ1Iku-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-5" value="通过类加载器，获取 spring.factories 文件" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" vertex="1">
          <mxGeometry x="111.5" y="181.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1.013;exitY=0.508;exitDx=0;exitDy=0;exitPerimeter=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" source="Tx6gN8MasFEGLDQZ1Iku-7" target="Tx6gN8MasFEGLDQZ1Iku-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="401" y="325" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-7" value="&lt;div&gt;获取文件中&lt;/div&gt;&lt;div&gt;工厂类全路径&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" vertex="1">
          <mxGeometry x="226.5" y="294.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.521;entryY=1.008;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.004;exitY=0.517;exitDx=0;exitDy=0;exitPerimeter=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" source="Tx6gN8MasFEGLDQZ1Iku-9" target="Tx6gN8MasFEGLDQZ1Iku-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-9" value="通过类路径反射得到工厂class 对象，构造方法" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" vertex="1">
          <mxGeometry x="340.5" y="185.5" width="120" height="59" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-10" value="生成工厂类实例返回" style="whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;rounded=0;gradientColor=#CCCCCC;gradientDirection=radial;glass=0;shadow=0;sketch=0;container=0;" parent="Tx6gN8MasFEGLDQZ1Iku-1" vertex="1">
          <mxGeometry x="443.5" y="60.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.125;entryY=0.025;entryDx=0;entryDy=0;entryPerimeter=0;opacity=0;" parent="1" source="Tx6gN8MasFEGLDQZ1Iku-12" target="Tx6gN8MasFEGLDQZ1Iku-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tx6gN8MasFEGLDQZ1Iku-12" value="SpringBoot 自动化配置" style="treeFolding=1;whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#d6b656;rounded=0;gradientColor=#FFB366;gradientDirection=radial;glass=0;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="-800" y="2310" width="162" height="29" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="ZdgQgcltxicTh5YUPLiH" name="类继承图">
    <mxGraphModel dx="3088" dy="746" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="gZtpTX1WfCaNUSenPJXd-176" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Spring Boot 类继承图&lt;/font&gt;&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;treeFolding=0;swimlaneFillColor=default;" parent="1" vertex="1">
          <mxGeometry x="-1200" y="130" width="2764" height="3802" as="geometry">
            <mxRectangle x="-1210" y="130" width="200" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;font style=&quot;font-size: 14px;&quot;&gt;ApplicationContext&lt;/font&gt;" tooltip="" id="gZtpTX1WfCaNUSenPJXd-62">
          <mxCell style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;spacingLeft=24;aspect=fixed;" parent="gZtpTX1WfCaNUSenPJXd-176" vertex="1" collapsed="1">
            <mxGeometry y="30" width="2764" height="20" as="geometry">
              <mxRectangle y="50" width="2764" height="2160" as="alternateBounds" />
            </mxGeometry>
          </mxCell>
        </UserObject>
        <UserObject label="&lt;div&gt;BeanFactory&lt;/div&gt;" tooltip="" id="gZtpTX1WfCaNUSenPJXd-63">
          <mxCell style="html=1;whiteSpace=wrap;strokeWidth=1;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="160" y="104" width="107" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;&amp;nbsp;&amp;nbsp; HierarchicalBeanFactory" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px;max-width:600px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;由 Bean 工厂实现的子接口，可以是层次结构的一部分。&#xa;&#xa;&lt;hr&gt;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getParentBeanFactory: BeanFactory&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;containsLocalBean: boolean&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;&#xa;&#xa;" id="gZtpTX1WfCaNUSenPJXd-64">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="134" y="201" width="158" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-65" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-64" target="gZtpTX1WfCaNUSenPJXd-63" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="190" y="274" as="sourcePoint" />
            <mxPoint x="350" y="274" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;&amp;nbsp; ListableBeanFactory" tooltip="" id="gZtpTX1WfCaNUSenPJXd-66">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="305" y="201" width="137" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="ApplicationContext" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;为应用程序提供配置的核心接口&#xa;&lt;hr&gt;&lt;b&gt;主要功能：&lt;/b&gt;&#xa;1)用于访问应用程序组件的 Bean 工厂方法。继承自 ListableBeanFactory。&#xa;2)以通用方式加载文件资源的能力。继承自 org.springframework.core.io.ResourceLoader 接口。&#xa;3)将事件发布到已注册的侦听器的功能。继承自 ApplicationEventPublisher 接口。&#xa;4)解析消息的能力，支持国际化。继承自 MessageSource 接口。&#xa;5)可以从父上下文继承。子上下文中的定义覆盖父上下文的定义。&#xa;  例如，单个父上下文可以被整个 Web 应用程序使用，而每个 servlet 都有自己的子上下文，独立于任何其他 servlet 的子上下文。&#xa;&#xa;&lt;b&gt;注意：&lt;/b&gt;&#xa;1)除了标准的 &lt;b style=&quot;color:blue&quot;&gt;org.springframework.beans.factory.BeanFactory&lt;/b&gt; 生命周期功能外，ApplicationContext 的 实现类还可以检测并调用 &lt;b style=&quot;color:blue&quot;&gt;ApplicationContextAware&lt;/b&gt; 以及 &lt;b style=&quot;color:blue&quot;&gt;ResourceLoaderAware&lt;/b&gt;、&lt;b style=&quot;color:blue&quot;&gt;ApplicationEventPublisherAware&lt;/b&gt; 和 &lt;b style=&quot;color:blue&quot;&gt;MessageSourceAware&lt;/b&gt; bean。&#xa;2)ApplicationContext 实现了 EnvironmentCapable，从而公开了一个 getEnvironment()方法; 但是，ConfigurableApplicationContext 重新定义了 getEnvironment()并缩小了签名范围以返回 ConfigurableEnvironment。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getId: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getApplicationName: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getDisplayName: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getStartupDate: long&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getParent: ApplicationContext&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getAutowireCapableBeanFactory: AutowireCapableBeanFactory&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="gZtpTX1WfCaNUSenPJXd-67">
          <mxCell style="html=1;whiteSpace=wrap;fontStyle=1;dashed=1;shadow=0;rounded=0;glass=0;strokeWidth=2;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="565" y="319" width="150" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-68" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-67" target="gZtpTX1WfCaNUSenPJXd-66" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="650" y="329" as="sourcePoint" />
            <mxPoint x="220" y="241" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="274" />
              <mxPoint x="374" y="274" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-69" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-67" target="gZtpTX1WfCaNUSenPJXd-64" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="382" y="303" as="sourcePoint" />
            <mxPoint x="220" y="237" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;EnvironmentCapable" tooltip="" id="gZtpTX1WfCaNUSenPJXd-70">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="467" y="201" width="150" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-71" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-67" target="gZtpTX1WfCaNUSenPJXd-70" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="640" y="314" as="sourcePoint" />
            <mxPoint x="382" y="240" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="274" />
              <mxPoint x="542" y="274" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp; MessageSource" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用于解析消息的策略界面，支持此类消息的参数化和国际化。Spring 为生产提供了两个开箱即用的实现：&#xa;&lt;hr&gt;(1) &lt;b style=&quot;color:blue&quot;&gt; org.springframework.context.support.ResourceBundleMessageSource：&lt;/b&gt; 建立在标准的&#xa;java.util.ResourceBundle之上，分享其局限性。&#xa;(2) &lt;b style=&quot;color:blue&quot;&gt; org.springframework.context.support.ReloadableResourceBundleMessageSource：&lt;/b&gt; 高度&#xa;可配置，特别是在重新加载消息定义方面。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getMessage: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;&#xa;&#xa;" id="gZtpTX1WfCaNUSenPJXd-72">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="637" y="201" width="120" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-73" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-67" target="gZtpTX1WfCaNUSenPJXd-72" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="650" y="329" as="sourcePoint" />
            <mxPoint x="220" y="241" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; ApplicationEventPublisher&lt;/div&gt;" tooltip="" id="gZtpTX1WfCaNUSenPJXd-74">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="777" y="200" width="169" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-75" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-67" target="gZtpTX1WfCaNUSenPJXd-74" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="650" y="329" as="sourcePoint" />
            <mxPoint x="707" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-77" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-66" target="gZtpTX1WfCaNUSenPJXd-63" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="220" y="211" as="sourcePoint" />
            <mxPoint x="210" y="134" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;&amp;nbsp;&amp;nbsp; ResourcePatternResolver" tooltip="" id="gZtpTX1WfCaNUSenPJXd-78">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="961" y="199" width="163" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-79" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-67" target="gZtpTX1WfCaNUSenPJXd-78" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="650" y="329" as="sourcePoint" />
            <mxPoint x="869" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;&amp;nbsp;&amp;nbsp; ResourceLoader" tooltip="" id="gZtpTX1WfCaNUSenPJXd-80">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
            <mxGeometry x="980" y="105" width="123" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-81" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;" parent="gZtpTX1WfCaNUSenPJXd-62" source="gZtpTX1WfCaNUSenPJXd-78" target="gZtpTX1WfCaNUSenPJXd-80" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="990" y="201" as="sourcePoint" />
            <mxPoint x="990" y="134" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-118" value="&lt;b&gt;应用上下文顶层接口&lt;br&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1">
          <mxGeometry x="353" y="30" width="770" height="30" as="geometry" />
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-5" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="134" y="207" width="19" height="18" as="geometry">
            <mxRectangle x="134" y="207" width="810" height="435" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-6" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.beans.factory&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;i&gt;&lt;br&gt;&lt;br&gt;/**************************************************************************************************************&lt;br&gt; * &lt;/i&gt;&lt;b&gt;&lt;i&gt;使 Bean 工厂 拥有层次结构的特性&lt;/i&gt;&lt;/b&gt;&lt;i&gt;&lt;br&gt; * ------------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 允许以可配置方式设置父级的 Bean 工厂，相应的 setParentBeanFactory 方法可以在 ConfigurableBeanFactory 接口中找到。&lt;br&gt; *&lt;br&gt; **************************************************************************************************************&lt;br&gt; */&lt;/i&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;HierarchicalBeanFactory &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;BeanFactory {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回父工厂&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;BeanFactory &lt;span style=&quot;color:#ffc66d;&quot;&gt;getParentBeanFactory&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回本地 Bean 工厂是否包含给定名称的 Bean，忽略在祖先上下文中定义的 bean。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;containsLocalBean&lt;/span&gt;(String name)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="x7UFYfuNjlEI4EltVQFK-5" vertex="1">
          <mxGeometry y="25" width="810" height="410" as="geometry" />
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-7" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="304" y="207" width="19" height="18" as="geometry">
            <mxRectangle x="304" y="207" width="2460" height="1345" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-8" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;package &lt;/span&gt;org.springframework.beans.factory&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/***************************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;由 Bean 工厂实现的接口扩展 BeanFactory ，它可以枚举其所有 Bean 实例，而不是根据客户端的请求尝试按名称逐个查找 Bean。&lt;/b&gt;&lt;br&gt; * 通过实现此接口可以实现预加载所有 Bean 定义的 BeanFactory （例如基于 XML 的工厂）。&lt;br&gt; *--------------------------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 1）此工厂接口中的方法将只遵循此工厂的 Bean 定义。将忽略任何已通过其他方式注册的单例 bean，例如 ConfigurableBeanFactory &lt;br&gt; *    的 registerSingleton 方法(getBeanNamesForType 和 getBeansOfType 除外，它们也会检查手动注册的单例)。当然，BeanFactory &lt;br&gt; *    的 getBean 也可以访问这些特殊的 bean。但是，在典型场景中，所有 bean 都将由外部 bean 定义，因此大多数应用程序无需担心这种差异。&lt;br&gt; *&lt;br&gt; * 2）除了 getBeanDefinitionCount 和 containsBeanDefinition，此接口中其他方法不是为频繁调用而设计的。实现速度可能很慢。&lt;br&gt; *&lt;br&gt; ***************************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;ListableBeanFactory &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;BeanFactory {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 检查此 Bean 工厂是否包含具有给定名称的 Bean 定义。&lt;br&gt;    * 不考虑此工厂可能参与的任何层次结构，并忽略通过 Bean 定义以外的其他方式注册的任何单例 bean。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;containsBeanDefinition&lt;/span&gt;(String beanName)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回工厂中定义的 bean 数量。&lt;br&gt;    * 不考虑此工厂可能参与的任何层次结构，并忽略通过 Bean 定义以外的其他方式注册的任何单例 bean。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanDefinitionCount&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回此工厂中定义的所有 Bean 的名称。&lt;br&gt;    * 不考虑此工厂可能参与的任何层次结构，并忽略通过 Bean 定义以外的其他方式注册的任何单例 bean。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanDefinitionNames&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回与给定类型（包括子类）匹配的 bean 的名称&lt;br&gt;    *&lt;br&gt;    * 注意：此方法仅自检顶级 bean。 它不会检查可能与指定类型匹配的嵌套 bean。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanNamesForType&lt;/span&gt;(ResolvableType type); &lt;font color=&quot;#808080&quot;&gt;//等价于 getBeanNamesForType(type, true, true); &lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanNamesForType&lt;/span&gt;(ResolvableType type&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;includeNonSingletons&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;allowEagerInit)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanNamesForType&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;Class&amp;lt;?&amp;gt; type)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanNamesForType&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;Class&amp;lt;?&amp;gt; type&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;includeNonSingletons&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;allowEagerInit)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   /** 返回与给定类型（包括子类）匹配的 bean&lt;br&gt;    *&lt;br&gt;    * 注意：此方法仅自检顶级 bean。 它不会检查可能与指定类型匹配的嵌套 bean。&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; Map&amp;lt;String&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeansOfType&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; type) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; Map&amp;lt;String&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeansOfType&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; type&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;includeNonSingletons&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;allowEagerInit)&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;   /**&lt;br&gt;    * 查找使用提供 Annotation 的类型注释的所有 bean 名称，而无需创建相应的 bean 实例。&lt;br&gt;    * 请注意，此方法考虑由 FactoryBeans 创建的对象，这意味着 FactoryBeans 将被初始化以确定其对象类型。&lt;br&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanNamesForAnnotation&lt;/span&gt;(Class&amp;lt;? &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;Annotation&amp;gt; annotationType)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;    &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;* 查找使用提供 Annotation 的类型注释的所有 bean 名称-实例，而无需创建相应的 bean 实例。&lt;br&gt;    * 请注意，此方法考虑由 FactoryBeans 创建的对象，这意味着 FactoryBeans 将被初始化以确定其对象类型。&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;Map&amp;lt;String&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Object&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeansWithAnnotation&lt;/span&gt;(Class&amp;lt;? &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;Annotation&amp;gt; annotationType) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 在指定的 Bean 上查找 annotation Type，如果找不到则遍历其接口和超类，并检查 Bean 的工厂方法（如果有）。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;A &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;Annotation&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;A &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;findAnnotationOnBean&lt;/span&gt;(String beanName&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;A&lt;/span&gt;&amp;gt; annotationType)&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="x7UFYfuNjlEI4EltVQFK-7" vertex="1">
          <mxGeometry y="25" width="2460" height="1320" as="geometry" />
        </mxCell>
        <mxCell id="WxJHqsuzFuBmSo9bsD0u-3" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="960" y="205" width="19" height="18" as="geometry">
            <mxRectangle x="960" y="205" width="800" height="455" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WxJHqsuzFuBmSo9bsD0u-4" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.core.io.support&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/*************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;解析本地模式为 Resource 对象的策略接口（例如，Ant-style 路径模式）。&lt;/b&gt;&lt;br&gt; * -----------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 1) 可以与任何类型的location 模式一起使用（例如&quot;/WEB-INF/*-context.xml&quot;）,输入模式必须与策略实现相匹配。&lt;br&gt; * 2) 此接口仅指定转换方法，而不是特定的模式格式。&lt;br&gt; * 3) 此接口还为类路径中的所有匹配资源建议新的资源前缀&quot;classpath*：&quot;，在此情景，资源位置应该是没有占位符的&lt;br&gt; *    路径（例如&quot;/beans.xml&quot;）;  JAR 文件或类目录可以包含多个同名文件。&lt;br&gt; * 4) 传入的 ResourceLoader 可以检查它是否也实现了这个扩展接口（例如，在上下文中运行时通过 &lt;br&gt; *    org.springframework.context.ResourceLoaderAware 传入的 org.springframework.context.ApplicationContext)。&lt;br&gt; * 5) PathMatchingResourcePatternResolver 是一个独立的实现，可在 ApplicationContext 外部使用，&lt;br&gt; *    ResourceArrayPropertyEditor 也用于填充资源数组 Bean 属性。&lt;br&gt; *&lt;br&gt; *************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;ResourcePatternResolver &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;ResourceLoader {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;CLASSPATH_ALL_URL_PREFIX &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;classpath*:&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;Resource[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getResources&lt;/span&gt;(String locationPattern) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;IOException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="WxJHqsuzFuBmSo9bsD0u-3" vertex="1">
          <mxGeometry y="25" width="800" height="430" as="geometry" />
        </mxCell>
        <mxCell id="WxJHqsuzFuBmSo9bsD0u-5" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="565" y="325" width="19" height="18" as="geometry">
            <mxRectangle x="565" y="325" width="890" height="955" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WxJHqsuzFuBmSo9bsD0u-6" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.context&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/***************************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;为应用程序提供配置的核心接口&lt;/b&gt;&lt;br&gt; * -------------------------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 1) 用于访问应用程序组件的 Bean 工厂方法。继承自 ListableBeanFactory。&lt;br&gt; * 2) 以通用方式加载文件资源的能力。继承自 org.springframework.core.io.ResourceLoader 接口。&lt;br&gt; * 3) 将事件发布到已注册的侦听器的功能。继承自 ApplicationEventPublisher 接口。&lt;br&gt; * 4) 解析消息的能力，支持国际化。继承自 MessageSource 接口。&lt;br&gt; * 5) 可以从父上下文继承。子上下文中的定义覆盖父上下文的定义。&lt;br&gt; *    例如，单个父上下文可以被整个 Web 应用程序使用，而每个 servlet 都有自己的子上下文，独立于任何其他 servlet 的子上下文。&lt;br&gt; *&lt;br&gt; * &lt;/span&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;注意：&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt; * 1) 除了标准的 org.springframework.beans.factory.BeanFactory 生命周期功能外，ApplicationContext 的 实现类还可以检测并调用&lt;br&gt; *    ApplicationContextAware 以及 ResourceLoaderAware、ApplicationEventPublisherAware 和 MessageSourceAware bean。&lt;br&gt; * 2) ApplicationContext 实现了 EnvironmentCapable，从而公开了一个 getEnvironment()方法; 但是，ConfigurableApplicationContext &lt;br&gt; *    重新定义了 getEnvironment() 并缩小了签名范围以返回 ConfigurableEnvironment。&lt;br&gt; ***************************************************************************************************************************&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;ApplicationContext &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;EnvironmentCapable&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ListableBeanFactory&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;HierarchicalBeanFactory&lt;span style=&quot;color:#cc7832;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;MessageSource&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ApplicationEventPublisher&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ResourcePatternResolver {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * application context 唯一ID&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getId&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getApplicationName&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getDisplayName&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;long &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;getStartupDate&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;ApplicationContext &lt;span style=&quot;color:#ffc66d;&quot;&gt;getParent&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 为此上下文公开 AutowireCapableBeanFactory 功能。应用程序代码通常不使用此功能，除非用于初始化位于应用程序&lt;br&gt;    * 上下文之外的 Bean 实例，将 Spring Bean 生命周期（全部或部分）应用于它们。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;AutowireCapableBeanFactory &lt;span style=&quot;color:#ffc66d;&quot;&gt;getAutowireCapableBeanFactory&lt;/span&gt;() &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;IllegalStateException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="WxJHqsuzFuBmSo9bsD0u-5" vertex="1">
          <mxGeometry y="25" width="890" height="930" as="geometry" />
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-21" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="467" y="207" width="19" height="18" as="geometry">
            <mxRectangle x="467" y="207" width="940" height="345" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-22" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package &lt;/font&gt;org.springframework.core.env&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/*********************************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;指示包含和公开 Environment 引用的组件的接口&lt;/b&gt;&lt;br&gt; * -------------------------------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 所有 Spring 应用程序上下文都是 EnvironmentCapable，该接口主要用于在框架方法中执行 instanceof 检查，这些框架方法接受 BeanFactory 实例，&lt;br&gt; * 这些实例实际上可能是也可能不是 ApplicationContext 实例，以便与环境进行交互（如果确实可用）。&lt;br&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; ********************************************************************************************************************************&lt;br&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;EnvironmentCapable {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;Environment &lt;span style=&quot;color:#ffc66d;&quot;&gt;getEnvironment&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="x7UFYfuNjlEI4EltVQFK-21" vertex="1">
          <mxGeometry y="25" width="940" height="320" as="geometry" />
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-23" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="637" y="207" width="19" height="18" as="geometry">
            <mxRectangle x="637" y="207" width="920" height="435" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-24" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;package &lt;/span&gt;org.springframework.context&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/***************************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;用于解析消息的策略界面，支持此类消息的参数化和国际化&lt;/b&gt;&lt;br&gt; * -------------------------------------------------------------------------------------------------------------------------&lt;br&gt; * &lt;br&gt; * Spring 为生产提供了两个开箱即用的实现：&lt;br&gt; * 1) org.springframework.context.support.&lt;/span&gt;&lt;font color=&quot;#7ea6e0&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;ResourceBundleMessageSource&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;：建立在标准 java.util.ResourceBundle 之上，分享其局限性。&lt;br&gt; * 2) org.springframework.context.support.&lt;/span&gt;&lt;font color=&quot;#7ea6e0&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;ReloadableResourceBundleMessageSource&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;：高度可配置，特别是在重新加载消息定义方面。&lt;br&gt; *&lt;br&gt; ***************************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;MessageSource {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getMessage&lt;/span&gt;(String code&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;Object[] args&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;String defaultMessage&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Locale locale)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getMessage&lt;/span&gt;(String code&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;Object[] args&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Locale locale) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchMessageException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getMessage&lt;/span&gt;(MessageSourceResolvable resolvable&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Locale locale) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchMessageException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="x7UFYfuNjlEI4EltVQFK-23" vertex="1">
          <mxGeometry y="25" width="920" height="410" as="geometry" />
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-25" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="777" y="206" width="19" height="18" as="geometry">
            <mxRectangle x="777" y="206" width="920" height="355" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="x7UFYfuNjlEI4EltVQFK-26" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package &lt;/font&gt;org.springframework.context&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * 封装事件发布功能的函数式接口&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@FunctionalInterface&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;ApplicationEventPublisher {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 通知在此应用程序中注册的所有匹配侦听器应用程序事件。事件可以是框架事件（如 ContextRefreshedEvent）或特定于应用程序的事件。&lt;br&gt;    * 这样的事件发布步骤实际上是对多播器的移交，并不意味着同步/异步执行，甚至根本不意味着立即执行。建议事件侦听器尽可能高效、&lt;br&gt;    * 单独使用异步执行进行长时间运行和可能阻塞的操作。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;default void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;publishEvent&lt;/span&gt;(ApplicationEvent event) {&lt;br&gt;      publishEvent((Object) event)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;publishEvent&lt;/span&gt;(Object event)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="x7UFYfuNjlEI4EltVQFK-25" vertex="1">
          <mxGeometry y="25" width="920" height="330" as="geometry" />
        </mxCell>
        <mxCell id="MgObio6AX1s-qqhodYcu-50" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="160" y="110" width="19" height="18" as="geometry">
            <mxRectangle x="160" y="110" width="920" height="1695" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MgObio6AX1s-qqhodYcu-51" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.beans.factory;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**********************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85);&quot;&gt;&lt;b&gt;&lt;i&gt;Spring bean 容器的根接口&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt; *&lt;br&gt; * 1）这是 bean 容器的基本客户端视图，其他接口，如 ListableBeanFactory 和 ConfigurableBeanFactory 可用于特定目的。&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * 2）该接口有包含许多 bean 定义对象的实现，每个 bean 定义由一个字符串名作为唯一标识。&lt;br&gt; * 3）根据 bean 定义，工厂将返回包含对象的独立实例（原型设计模式）或单个共享实例（单例设计模式的高级替代方案，&lt;br&gt; *    其中实例是工厂范围内的单例）。返回哪种类型的实例取决于 bean 工厂配置。&lt;br&gt; * 4）自 Spring2.0 以来，根据具体的应用程序上下文,还可以使用更多的作用域（例如 web 环境中的 request 和 session 作用域）&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;5）这种方法的要点是 BeanFactory 是应用程序组件的中心注册表，并集中配置应用程序组件（例如，单个对象不再需要读取属性文件）。&lt;br&gt; *    有关这种方法的好处，请参阅《Expert One-on-One J2EE Design and Development》的第 4 章和第 11 章。&lt;br&gt; * 6) 最好依靠依赖项注入（ push 配置）通过 setter 或构造函数配置应用程序对象，而不是使用任何形式的 pull 配置，如 BeanFactory &lt;br&gt; *    查找。Spring 的依赖项注入功能是使用 BeanFactory 接口及其子接口实现的。&lt;br&gt; * 7) BeanFactory 将加载存储在配置源中的 bean 定义（例如 XML文档），并使用 org.springframework.beans 包来配置 bean。对于&lt;br&gt; *    如何存储定义，没有约束，可以通过 LDAP，RDBMS，XML，属性文件等方式实现。在 Bean（依赖项注入）中支持引用。&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * ---------------------------------------------------------------------------------------------------------------------&lt;br&gt; * &lt;/span&gt;&lt;font color=&quot;#77b767&quot;&gt;&lt;b&gt;&lt;br&gt; * Bean Factory 实现应尽可能支持标准 Bean 生命周期接口。全套初始化方法及其标准流程是：&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt; * 1) BeanNameAware: setBeanName&lt;br&gt; * 2) BeanClassLoaderAware: setBeanClassLoader&lt;br&gt; * 3) BeanFactoryAware: setBeanFactory&lt;br&gt; * 4) EnvironmentAware: setEnvironment&lt;br&gt; * 5) EmbeddedValueResolverAware: setEmbeddedValueResolver&lt;br&gt; * 6) ResourceLoaderAware: setResourceLoader (只适用于运行 application context)&lt;br&gt; * 7) ApplicationEventPublisherAware: setApplicationEventPublisher(只适用于运行 application context)&lt;br&gt; * 8) MessageSourceAware: setMessageSource (只适用于运行 application context)&lt;br&gt; * 9) ApplicationContextAware: setApplicationContext (只适用于运行 application context)&lt;br&gt; *10) ServletContextAware: setServletContext (只适用于运行 web application context)&lt;br&gt; *11) BeanPostProcessors: postProcessBeforeInitialization&lt;br&gt; *12) InitializingBean: afterPropertiesSet&lt;br&gt; *13) 自定义初始化方法&lt;br&gt; *14) BeanPostProcessors: postProcessAfterInitialization &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(119, 183, 103);&quot;&gt;&lt;b&gt;Bean Factory 关闭时，执行顺序为：&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&lt;br&gt; * 1) DestructionAwareBeanPostProcessors: postProcessBeforeDestruction &lt;br&gt; * 2) DisposableBean: destroy&lt;br&gt; * 3) 自定义销毁方法&lt;br&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;*********************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;BeanFactory {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 用于区分工厂bean 和 工厂实例。例如，一个工厂bean 被命名为 myObject , 则 get &amp;amp;myObject 将返回工厂，而不是工厂实例。&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;FACTORY_BEAN_PREFIX &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;&amp;amp;&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回指定 Bean 的实例，该实例可以是共享的或独立的。此方法是将 Spring BeanFactory 用作 Singleton 或 Prototype 设计模式的替代方案。&lt;br&gt;    * 在单例 bean 的情况下，调用方可以保留对返回对象的引用。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;Object &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBean&lt;/span&gt;(String name) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;T  &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;getBean&lt;/span&gt;(String name&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; requiredType) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;Object &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBean&lt;/span&gt;(String name&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Object... args) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;T  &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;getBean&lt;/span&gt;(Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; requiredType) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;T &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt; getBean&lt;/span&gt;(Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; requiredType&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Object... args) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回指定 Bean 的提供程序，允许延迟按需检索实例，包括可用性和唯一性选项。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; ObjectProvider&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanProvider&lt;/span&gt;(Class&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; requiredType)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; ObjectProvider&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanProvider&lt;/span&gt;(ResolvableType requiredType)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;containsBean&lt;/span&gt;(String name)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;isSingleton&lt;/span&gt;(String name) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;isPrototype&lt;/span&gt;(String name) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;isTypeMatch&lt;/span&gt;(String name&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ResolvableType typeToMatch) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;isTypeMatch&lt;/span&gt;(String name&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Class&amp;lt;?&amp;gt; typeToMatch) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;Class&amp;lt;?&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getType&lt;/span&gt;(String name) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;Class&amp;lt;?&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getType&lt;/span&gt;(String name&lt;span style=&quot;color:#cc7832;&quot;&gt;, boolean &lt;/span&gt;allowFactoryBeanInit) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;NoSuchBeanDefinitionException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回给定 Bean 名称的别名。在调用中使用 getBean 时，所有这些别名都指向相同的 Bean。如果给定名称是别名，&lt;br&gt;    * 则将返回相应的原始 Bean 名称和其他别名，原始 Bean 名称是数组中的第一个元素。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String[] &lt;span style=&quot;color:#ffc66d;&quot;&gt;getAliases&lt;/span&gt;(String name)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="MgObio6AX1s-qqhodYcu-50" vertex="1">
          <mxGeometry y="25" width="920" height="1670" as="geometry" />
        </mxCell>
        <mxCell id="WxJHqsuzFuBmSo9bsD0u-1" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-62" vertex="1" collapsed="1">
          <mxGeometry x="981" y="112" width="19" height="18" as="geometry">
            <mxRectangle x="981" y="112" width="1210" height="605" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WxJHqsuzFuBmSo9bsD0u-2" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.core.io&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**********************************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;用于加载资源的策略接口（例如.class路径或文件系统资源）。&lt;/b&gt;&lt;br&gt; * --------------------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 1) 需要 &lt;/span&gt;&lt;font color=&quot;#7ea6e0&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;org.springframework.context.ApplicationContext&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; 来提供此功能，&lt;br&gt; *   以及扩展的 &lt;/span&gt;&lt;font color=&quot;#7ea6e0&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;org.springframework.core.io.support.ResourcePatternResolver&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; 支持。&lt;br&gt; * 2) 在 &lt;/span&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;ApplicationContext&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; 中运行时，Resource 和 Resource 数组类型的 Bean 属性通过特定的上下文资源加载策略从字符串中转换而来。&lt;br&gt; * 3) &lt;/span&gt;&lt;font color=&quot;#7ea6e0&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;DefaultResourceLoader&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; 是一个可在 ApplicationContext 外部使用的独立实现，&lt;br&gt; *&lt;br&gt; **********************************************************************************************************************&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;ResourceLoader {&lt;br&gt;&lt;br&gt;   &lt;font color=&quot;#629755&quot;&gt;/** &lt;span style=&quot;font-style: italic;&quot;&gt;CLASSPATH_URL_PREFIX &lt;/span&gt;= &quot;&lt;span style=&quot;font-style: italic;&quot;&gt;classpath:” */&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;CLASSPATH_URL_PREFIX &lt;/span&gt;= ResourceUtils.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;CLASSPATH_URL_PREFIX&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回指定资源位置的资源句柄。句柄应始终是可重用的资源描述符，允许多次 Resource.getInputStream() 调用。&lt;br&gt;    *&lt;br&gt;    * 1) 必须支持完全限定的URL，例如“file：C：/test.dat”。&lt;br&gt;    * 2) 必须支持类路径伪 URL，例如“classpath：test.dat”。&lt;br&gt;    * 3) 应支持相对文件路径，例如“WEB-INF/test.dat”。（这将是特定于实现的，通常由 ApplicationContext 实现提供。&lt;br&gt;    * 注意：资源句柄并不意味着现有资源;您需要调用 Resource.exists 以检查是否存在。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;Resource &lt;span style=&quot;color:#ffc66d;&quot;&gt;getResource&lt;/span&gt;(String location)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;ClassLoader &lt;span style=&quot;color:#ffc66d;&quot;&gt;getClassLoader&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="WxJHqsuzFuBmSo9bsD0u-1" vertex="1">
          <mxGeometry y="25" width="1210" height="580" as="geometry" />
        </mxCell>
        <UserObject label="&lt;font style=&quot;font-size: 14px;&quot;&gt;AnnotationConfigApplicationContext&lt;/font&gt;" tooltip="普通应用服务上下文" id="gZtpTX1WfCaNUSenPJXd-196">
          <mxCell style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;spacingLeft=24;" parent="gZtpTX1WfCaNUSenPJXd-176" vertex="1">
            <mxGeometry y="50" width="2764" height="3712" as="geometry">
              <mxRectangle y="50" width="2764" height="20" as="alternateBounds" />
            </mxGeometry>
          </mxCell>
        </UserObject>
        <UserObject label="ApplicationContext" tooltip="" id="gZtpTX1WfCaNUSenPJXd-201">
          <mxCell style="html=1;whiteSpace=wrap;fontStyle=1;dashed=1;shadow=0;rounded=0;glass=0;strokeWidth=2;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
            <mxGeometry x="576" y="169" width="150" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-210" value="DefaultResourceLoader" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="830.5" y="370" width="163" height="30" as="geometry" />
        </mxCell>
        <UserObject label="ResourceLoader" tooltip="" id="gZtpTX1WfCaNUSenPJXd-214">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
            <mxGeometry x="831" y="270" width="161" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-216" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-210" target="gZtpTX1WfCaNUSenPJXd-214" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1101" y="154" as="sourcePoint" />
            <mxPoint x="1261" y="154" as="targetPoint" />
            <Array as="points">
              <mxPoint x="912" y="370" />
              <mxPoint x="912" y="335" />
              <mxPoint x="911" y="335" />
              <mxPoint x="911" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;&amp;nbsp;&amp;nbsp; ConfigurableApplicationContext" tooltip="" id="gZtpTX1WfCaNUSenPJXd-221">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;fontStyle=1;strokeWidth=2;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
            <mxGeometry x="548" y="270" width="207" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-222" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-221" target="gZtpTX1WfCaNUSenPJXd-201" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="902" y="252" as="sourcePoint" />
            <mxPoint x="821" y="179" as="targetPoint" />
            <Array as="points">
              <mxPoint x="651" y="230" />
              <mxPoint x="651" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-223" value="Lifecycle" style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="391" y="169" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-225" value="Closeable" style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="831" y="169" width="84" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-227" value="AutoClouseable" style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="814.5" y="100" width="118" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-228" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-225" target="gZtpTX1WfCaNUSenPJXd-227" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="661" y="179" as="sourcePoint" />
            <mxPoint x="1063" y="89" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-235" value="&amp;nbsp;&amp;nbsp; AbstractApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;fontStyle=1;strokeWidth=2;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="561.5" y="370" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-236" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-235" target="gZtpTX1WfCaNUSenPJXd-221" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1389" y="391" as="sourcePoint" />
            <mxPoint x="1389" y="311" as="targetPoint" />
            <Array as="points">
              <mxPoint x="651" y="340" />
              <mxPoint x="651" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-237" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-235" target="gZtpTX1WfCaNUSenPJXd-210" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1226" y="179" as="sourcePoint" />
            <mxPoint x="1226" y="89" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-238" value="GenericApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="569.5" y="486" width="163" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-241" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-248" target="gZtpTX1WfCaNUSenPJXd-238" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="461.5" y="566" as="sourcePoint" />
            <mxPoint x="668" y="381" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-248" value="AnnotationConfigApplicationContext" style="html=1;whiteSpace=wrap;fillColor=#FFFFFF;strokeColor=#666666;fontColor=#333333;fontStyle=1;strokeWidth=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="528.5" y="590" width="245" height="30" as="geometry" />
        </mxCell>
        <UserObject label="AnnotationConfigRegistry" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px;max-width:800px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用注解的方式配置应用程序上下文&#xa;&lt;hr&gt;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;register: void&lt;/b&gt;&#xa;注册一个或多个要处理的组件类, 对 register 调用是幂等的。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;scan: void&lt;/b&gt;&#xa;在指定的基本软件包中执行扫描&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="gZtpTX1WfCaNUSenPJXd-250">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
            <mxGeometry x="801" y="486" width="164" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-251" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-248" target="gZtpTX1WfCaNUSenPJXd-250" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="448" y="507" as="sourcePoint" />
            <mxPoint x="447" y="421" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-252" value="&lt;b&gt;普通应用服务上下文&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="353" y="30" width="770" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-254" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-238" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="650.61" y="471" as="sourcePoint" />
            <mxPoint x="650.61" y="400" as="targetPoint" />
            <Array as="points">
              <mxPoint x="651" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-255" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-221" target="gZtpTX1WfCaNUSenPJXd-225" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="917" y="295" as="sourcePoint" />
            <mxPoint x="991" y="295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-256" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-221" target="gZtpTX1WfCaNUSenPJXd-223" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="755" y="295" as="sourcePoint" />
            <mxPoint x="841" y="295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-257" value="Aliasrergistry" style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="383.5" y="280" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-258" value="BeanDefinitionRegistry" style="html=1;whiteSpace=wrap;dashed=1;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="353" y="370" width="151" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-259" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-238" target="gZtpTX1WfCaNUSenPJXd-258" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="867" y="610" as="sourcePoint" />
            <mxPoint x="989" y="526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gZtpTX1WfCaNUSenPJXd-261" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gZtpTX1WfCaNUSenPJXd-196" source="gZtpTX1WfCaNUSenPJXd-258" target="gZtpTX1WfCaNUSenPJXd-257" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="661" y="280" as="sourcePoint" />
            <mxPoint x="439" y="209" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IPlpxwSUbaRP93qfnXsg-1" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1" collapsed="1">
          <mxGeometry x="548" y="275" width="19" height="18" as="geometry">
            <mxRectangle x="548" y="275" width="762" height="2195" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IPlpxwSUbaRP93qfnXsg-2" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.context&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;Spring Boot 上下文根接口&lt;/b&gt;&lt;br&gt; * ------------------------------------------------------------------------------------------------&lt;br&gt; * &lt;br&gt; * 1) SPI（Service Provider Interface） 接口将由大多数应用程序上下文实现。提供用于配置应用程序上下文以及&lt;br&gt; *    接口中的 ApplicationContext 应用程序上下文客户端方法的工具。&lt;br&gt; *&lt;br&gt; **************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public interface &lt;/span&gt;ConfigurableApplicationContext &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;ApplicationContext&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Lifecycle&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Closeable {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;分隔符    ， ； 制表符  换行&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;CONFIG_LOCATION_DELIMITERS &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;,; &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;\t\n&lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 工厂中转换服务 Bean 的名称。如果未提供任何转换规则，则应用默认转换规则。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;CONVERSION_SERVICE_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;conversionService&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 工厂中 LoadTimeWeaver bean 的名称。如果提供了这样的 Bean，上下文将使用临时 ClassLoader &lt;br&gt;    * 进行类型匹配，以便允许 LoadTimeWeaver 处理所有实际的 Bean 类。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;LOAD_TIME_WEAVER_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;loadTimeWeaver&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;ENVIRONMENT_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SYSTEM_PROPERTIES_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;systemProperties&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SYSTEM_ENVIRONMENT_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;systemEnvironment&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SHUTDOWN_HOOK_THREAD_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;SpringContextShutdownHook&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 设置此应用程序上下文的唯一 ID&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setId&lt;/span&gt;(String id)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;    * &lt;/span&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;span style=&quot;background-color: rgb(153, 51, 255);&quot;&gt; 注意：&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;span style=&quot;background-color: rgb(153, 51, 255);&quot;&gt;&lt;br&gt;&lt;/span&gt;    * 只有在创建此类的对象不可用时（例如在 WebApplicationContext 设置的情况下），才应在构造函数外部设置父级。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setParent&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;ApplicationContext parent)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setEnvironment&lt;/span&gt;(ConfigurableEnvironment environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;ConfigurableEnvironment &lt;span style=&quot;color:#ffc66d;&quot;&gt;getEnvironment&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 该方法在上下文配置期间调用。添加一个新的 BeanFactoryPostProcessor&lt;br&gt;    * 该处理器将在刷新时应用于此应用程序上下文的内部 Bean 工厂&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;addBeanFactoryPostProcessor&lt;/span&gt;(BeanFactoryPostProcessor postProcessor)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 添加新的应用程序侦听器，该侦听器将在上下文事件（如上下文刷新和上下文关闭）时收到通知。&lt;br&gt;    * &lt;/span&gt;&lt;i&gt;&lt;font style=&quot;background-color: rgb(153, 51, 255);&quot; color=&quot;#cccccc&quot;&gt; 注意：&lt;/font&gt;&lt;/i&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;    * - &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85);&quot;&gt;&lt;i&gt;如果上下文尚未处于活动状态，则此处注册的任何应用程序侦听器都将在刷新时应用&lt;/i&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;    * - 如果在上下文已处于活动状态的情况下，将使用当前事件多播器&lt;u&gt;动态应用&lt;/u&gt;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;addApplicationListener&lt;/span&gt;(ApplicationListener&amp;lt;?&amp;gt; listener)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setClassLoader&lt;/span&gt;(ClassLoader classLoader)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 将给定的协议解析程序注册到此应用程序上下文，从而允许处理其他资源协议。&lt;br&gt;    * 任何此类解析程序都将在此上下文的标准解析规则之前调用。&lt;u&gt;因此，它也可能覆盖任何默认规则。&lt;/u&gt;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;addProtocolResolver&lt;/span&gt;(ProtocolResolver resolver)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 加载或刷新配置的持久表示形式，这些表示形式可能来自基于 Java 的配置、XML 文件、属性文件、&lt;br&gt;    * 关系数据库模式或某种其他格式。&lt;br&gt;    * &lt;/span&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;span style=&quot;background-color: rgb(153, 51, 255);&quot;&gt; 注意：&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;    * 由于这是一种启动方法，因此如果失败，它应该销毁已创建的单例，以避免挂起资源。&lt;br&gt;    * 换句话说，在调用此方法后，应实例化所有单例或根本不实例。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;refresh&lt;/span&gt;() &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;IllegalStateException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 向 JVM 运行时注册一个关闭钩子，在 JVM 关闭时关闭此上下文，除非当时它已经关闭。&lt;br&gt;    * 可以多次调用此方法。每个上下文实例只会注册一个关闭挂钩（最多）。&lt;br&gt;    * 从 Spring Framework 5.2 开始，关闭钩子 线程的名称应该是 SHUTDOWN_HOOK_THREAD_NAME。&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;registerShutdownHook&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 关闭此应用程序上下文，释放实现可能持有的所有资源和锁。这包括销毁所有缓存的单例 bean。&lt;br&gt;    * &lt;/span&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;span style=&quot;background-color: rgb(153, 51, 255);&quot;&gt; 注意：&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; &lt;br&gt;    * 不对 close 父上下文进行调用; 父上下文具有自己的独立生命周期。该方法幂等。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;close&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 确定此应用程序上下文是否处于活动状态，即它是否至少刷新了一次并且尚未关闭。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;isActive&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 返回此应用程序上下文的内部 Bean 工厂。可用于访问基础工厂的特定功能。&lt;br&gt;    * &lt;/span&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;span style=&quot;background-color: rgb(153, 51, 255);&quot;&gt; 注意：&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;    * - 不要使用它来对 bean 工厂进行后置处理;单例之前已经实例化过。&lt;br&gt;    * - 应该使用 BeanFactoryPostProcessor 在接触 BeanFactory 之前拦截 BeanFactory 设置过程。&lt;br&gt;    * - 此内部工厂仅在上下文处于活动状态时（即介于 refresh() 和 close()之间）时才能访问。&lt;br&gt;        isActive() 标志可用于检查上下文是否处于适当的状态。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;ConfigurableListableBeanFactory &lt;span style=&quot;color:#ffc66d;&quot;&gt;getBeanFactory&lt;/span&gt;() &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;IllegalStateException&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="IPlpxwSUbaRP93qfnXsg-1" vertex="1">
          <mxGeometry y="25" width="762" height="2170" as="geometry" />
        </mxCell>
        <mxCell id="IPlpxwSUbaRP93qfnXsg-3" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="gZtpTX1WfCaNUSenPJXd-196" vertex="1">
          <mxGeometry x="562" y="376" width="810" height="2810" as="geometry">
            <mxRectangle x="562" y="376" width="19" height="18" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IPlpxwSUbaRP93qfnXsg-4" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#cc7832&quot;&gt;package&lt;/font&gt; org.springframework.context.support&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**********************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;b&gt;ApplicationContext 的抽象实现&lt;/b&gt;&lt;br&gt; * 不强制要求用于配置的存储类型;只是实现通用上下文功能。使用模板方法设计模式，需要具体的子类来实现抽象方法。&lt;br&gt; * --------------------------------------------------------------------------------------------------------&lt;br&gt; *&lt;br&gt; * 1）与普通 BeanFactory 相比，ApplicationContext 应该检测其内部 Bean 工厂中定义的特殊 bean，因此，此类会自动&lt;br&gt; *    注册 BeanFactoryPostProcessors、 BeanPostProcessors，并在 ApplicationListeners 上下文中定义为 bean。&lt;br&gt; * 2）MessageSource 也可以作为上下文中的 Bean 提供，名称为 “messageSource”; 否则，消息解析将委托给父上下文。&lt;br&gt; * 3）此外，应用程序事件的多播器可以作为上下文中的“applicationEventMulticaster”类型的 ApplicationEventMulticaster &lt;br&gt; *    bean 提供; 否则，将使用默认的类型 SimpleApplicationEventMulticaster 多播器。&lt;br&gt; * 4）通过扩展 DefaultResourceLoader 实现资源加载。将非 URL 资源路径视为类路径资源（支持包含包路径的完整类&lt;br&gt; *    路径资源名称，例如“mypackage/myresource.dat”）。&lt;br&gt; *&lt;br&gt; **********************************************************************************************************&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public abstract class &lt;/span&gt;AbstractApplicationContext &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;DefaultResourceLoader&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;implements &lt;/span&gt;ConfigurableApplicationContext {&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   static &lt;/span&gt;{&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;// 在 WebLogic 8.1 中关闭应用程序时&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;, 避免奇怪的类加载问题&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;ContextClosedEvent.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;.getName()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** 日志记录，可用于子类 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected final &lt;/span&gt;Log &lt;span style=&quot;color:#9876aa;&quot;&gt;logger &lt;/span&gt;= LogFactory.&lt;span style=&quot;font-style:italic;&quot;&gt;getLog&lt;/span&gt;(getClass())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1">
          <mxGeometry y="25" width="810" height="490" as="geometry" />
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--5" value="&lt;div&gt;&lt;font color=&quot;#67ab9f&quot;&gt;&lt;b&gt;属性&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp; &lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=36;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="515" width="810" height="32" as="geometry">
            <mxRectangle y="515" width="810" height="1340" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--6" value="&lt;pre style=&quot;background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;   /**&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 工厂中 MessageSource bean &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public static final &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;MESSAGE_SOURCE_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;messageSource&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 工厂中生命周期处理器 Bean 的名称。如果未提供任何内容，则使用默认生命周期处理器。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public static final &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;LIFECYCLE_PROCESSOR_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;lifecycleProcessor&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    * 工厂中的应用程序事件多播器Bean的名称。如果未提供任何内容，则使用默认的 SimpleApplicationEventMulticaster。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public static final &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;APPLICATION_EVENT_MULTICASTER_BEAN_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;applicationEventMulticaster&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;&quot;&gt;id &lt;/span&gt;= ObjectUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;identityToString&lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;);&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font color=&quot;#66b2ff&quot;&gt;&lt;b&gt;   :Getter :Setter&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;br&gt;   /** */&lt;/font&gt;  &lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;  &lt;br&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;&quot;&gt;displayName &lt;/span&gt;= ObjectUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;identityToString&lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;font color=&quot;#66b2ff&quot;&gt;&lt;b&gt;:Getter :Setter&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** Parent context. */&lt;/span&gt;&lt;br&gt;   &lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;ApplicationContext &lt;span style=&quot;color:#9876aa;&quot;&gt;parent&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;   &lt;/span&gt;&lt;font color=&quot;#66b2ff&quot;&gt;&lt;b&gt;:Getter&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** Environment used by this context. */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;ConfigurableEnvironment &lt;span style=&quot;color:#9876aa;&quot;&gt;environment&lt;/span&gt;;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;&lt;b&gt;   :Getter&lt;/b&gt;(如果是null,返回标准环境&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;)&lt;b&gt;  :Setter&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;br&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt; &lt;/span&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;i&gt;  &lt;/i&gt;&lt;i&gt;/** BeanFactoryPostProcessors to apply on refresh. */&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;&lt;b&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt; &lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;b&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;b&gt;   &lt;/b&gt;&lt;br&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;List&amp;lt;BeanFactoryPostProcessor&amp;gt; &lt;span style=&quot;color:#9876aa;&quot;&gt;beanFactoryPostProcessors &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ArrayList&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;   &lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;&lt;b&gt;:Getter &lt;/b&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** context 启动时间 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private long &lt;/span&gt;&lt;span style=&quot;color:#9876aa;&quot;&gt;startupDate&lt;/span&gt;;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;   &lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;&lt;b&gt;:Getter &lt;/b&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;&lt;b&gt; :Setter&lt;/b&gt;(参看实现方法)&lt;b&gt; &lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** context 当前是否为激活态 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;AtomicBoolean &lt;span style=&quot;color:#9876aa;&quot;&gt;active &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;AtomicBoolean()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** context 是否已关闭 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;AtomicBoolean &lt;span style=&quot;color:#9876aa;&quot;&gt;closed &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;AtomicBoolean()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/**  &quot;refresh&quot; 和 &quot;destroy&quot; 的同步监视器 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;Object &lt;span style=&quot;color:#9876aa;&quot;&gt;startupShutdownMonitor &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;Object()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** 引用 JVM 关闭挂钩（如果已注册） */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;Thread &lt;span style=&quot;color:#9876aa;&quot;&gt;shutdownHook&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** context 使用的资源模式解析程序 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;ResourcePatternResolver &lt;span style=&quot;color:#9876aa;&quot;&gt;resourcePatternResolver&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** 用于在 context 中管理 Bean 的生命周期。 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;LifecycleProcessor &lt;span style=&quot;color:#9876aa;&quot;&gt;lifecycleProcessor&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** MessageSource we delegate our implementation of this interface to. */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;MessageSource &lt;span style=&quot;color:#9876aa;&quot;&gt;messageSource&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** 事件发布的辅助类 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;ApplicationEventMulticaster &lt;span style=&quot;color:#9876aa;&quot;&gt;applicationEventMulticaster&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#629755&quot;&gt;&lt;i&gt;/** 静态指定的侦听器 */&lt;/i&gt; &lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;    &lt;br&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;Set&amp;lt;ApplicationListener&amp;lt;?&amp;gt;&amp;gt; &lt;span style=&quot;color:#9876aa;&quot;&gt;applicationListeners &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;LinkedHashSet&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;   &lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt;&lt;b&gt;:Getter&lt;/b&gt;&lt;/font&gt;&lt;b&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#66b2ff&quot;&gt; &lt;/font&gt;&lt;/b&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** refresh 前注册的本地侦听器 */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;Set&amp;lt;ApplicationListener&amp;lt;?&amp;gt;&amp;gt; &lt;span style=&quot;color:#9876aa;&quot;&gt;earlyApplicationListeners&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;/** ApplicationEvents published before the multicaster setup. */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;Set&amp;lt;ApplicationEvent&amp;gt; &lt;span style=&quot;color:#9876aa;&quot;&gt;earlyApplicationEvents&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="UW4yw8YK71U5aKca6fa--5" vertex="1">
          <mxGeometry y="36" width="810" height="1304" as="geometry" />
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--1" value="&lt;div&gt;&lt;font color=&quot;#67ab9f&quot;&gt;&lt;b&gt;构造函数&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp; 2个&lt;/font&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=36;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="547" width="810" height="32" as="geometry">
            <mxRectangle y="547" width="810" height="170" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--2" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;  &lt;span style=&quot;color:#cc7832;&quot;&gt; public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;AbstractApplicationContext&lt;/span&gt;() {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;resourcePatternResolver &lt;/span&gt;= getResourcePatternResolver()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;AbstractApplicationContext&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;ApplicationContext parent) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;setParent(parent)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="UW4yw8YK71U5aKca6fa--1" vertex="1">
          <mxGeometry y="36" width="810" height="134" as="geometry" />
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--3" value="&lt;pre style=&quot;background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 13.0667px;&quot;&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#629755&quot;&gt;/** */&lt;/font&gt;&lt;font style=&quot;font-size: 13.0667px;&quot;&gt;&lt;br&gt;&lt;font style=&quot;font-size: 13.0667px;&quot; color=&quot;#bbb529&quot;&gt;@Override&lt;/font&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setParent&lt;/span&gt;(&lt;span style=&quot;color:#bbb529;&quot;&gt;@Nullable &lt;/span&gt;ApplicationContext parent) {&lt;/font&gt;&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=67;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="579" width="810" height="73" as="geometry">
            <mxRectangle y="1737" width="810" height="200" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--4" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;   this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;parent &lt;/span&gt;= parent&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(parent != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;          Environment parentEnvironment = parent.getEnvironment()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;          if &lt;/span&gt;(parentEnvironment &lt;span style=&quot;color:#cc7832;&quot;&gt;instanceof &lt;/span&gt;ConfigurableEnvironment) {&lt;br&gt;             getEnvironment().merge((ConfigurableEnvironment) parentEnvironment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;          &lt;/span&gt;}&lt;br&gt;       }&lt;br&gt;    }&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="UW4yw8YK71U5aKca6fa--3" vertex="1">
          <mxGeometry y="67" width="810" height="133" as="geometry" />
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--7" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/** */&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#bbb529&quot;&gt;@Override&lt;/font&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;public void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;addBeanFactoryPostProcessor&lt;/span&gt;(BeanFactoryPostProcessor postProcessor) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=70;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="652" width="810" height="70" as="geometry">
            <mxRectangle y="1810" width="810" height="150" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--8" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;       Assert.notNull(postProcessor&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;BeanFactoryPostProcessor must not be null&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;beanFactoryPostProcessors&lt;/span&gt;.add(postProcessor)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;    }&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="UW4yw8YK71U5aKca6fa--7" vertex="1">
          <mxGeometry y="70" width="810" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--15" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/** */&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#bbb529&quot;&gt;@Override&lt;/font&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;public void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;addApplicationListener&lt;/span&gt;(ApplicationListener&amp;lt;?&amp;gt; listener) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=70;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;resizable=1;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="722" width="810" height="70" as="geometry">
            <mxRectangle y="722" width="810" height="170" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--16" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      Assert.notNull(listener&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;ApplicationListener must not be null&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationEventMulticaster &lt;/span&gt;!= &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;   this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationEventMulticaster&lt;/span&gt;.addApplicationListener(listener)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationListeners&lt;/span&gt;.add(listener)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="UW4yw8YK71U5aKca6fa--15" vertex="1">
          <mxGeometry y="70" width="810" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-1" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;i&gt;/* -------------------------------------------------------------&lt;br&gt; * 模板方法， 提供核心的功能 &lt;br&gt; * -------------------------------------------------------------&lt;br&gt; */&lt;/i&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#bbb529&quot;&gt;@Override&lt;/font&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;public void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;refresh&lt;/span&gt;() &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;IllegalStateException {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=118;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1">
          <mxGeometry y="792" width="810" height="1110" as="geometry">
            <mxRectangle y="792" width="810" height="118" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-7" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      synchronized (&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;startupShutdownMonitor&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;//[1] refresh 前准备 context&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;prepareRefresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;     &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="1UOMO2lI6X677FkX98Mo-1" vertex="1">
          <mxGeometry y="118" width="810" height="52" as="geometry" />
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-5" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   &lt;font color=&quot;#808080&quot;&gt;//[2] 通知子类去 refresh 内部 bean factory&lt;/font&gt;&lt;br&gt;   ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=52;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="1UOMO2lI6X677FkX98Mo-1" vertex="1" collapsed="1">
          <mxGeometry y="170" width="810" height="58" as="geometry">
            <mxRectangle y="170" width="810" height="180" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-6" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;        &lt;br&gt;&lt;font color=&quot;#808080&quot;&gt;       &lt;/font&gt;&lt;font color=&quot;#b266ff&quot;&gt; *-------------------- obtainFreshBeanFactory 函数 ------------------------*&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#cc7832&quot;&gt;        &lt;/font&gt;&lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;font color=&quot;#cc7832&quot;&gt;  protected&lt;/font&gt; ConfigurableListableBeanFactory &lt;font color=&quot;#cc7832&quot;&gt;obtainFreshBeanFactory&lt;/font&gt;() {   &lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;br&gt;        &lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;    &lt;font color=&quot;#808080&quot;&gt;// 抽象 方法&lt;/font&gt;                                                          &lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;br&gt;        &lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;    refreshBeanFactory();  &lt;span style=&quot;color:#cc7832;&quot;&gt;                                              &lt;/span&gt;&lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;        &lt;/span&gt;&lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;    return &lt;/span&gt;getBeanFactory()&lt;span style=&quot;color:#cc7832;&quot;&gt;;                                             &lt;/span&gt;&lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;        &lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;  }                                                                      &lt;font color=&quot;#b266ff&quot;&gt;|&lt;/font&gt;&lt;br&gt;        &lt;font color=&quot;#b266ff&quot;&gt;*-------------------------------------------------------------------------*&lt;/font&gt;&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="1UOMO2lI6X677FkX98Mo-5" vertex="1">
          <mxGeometry y="52" width="810" height="128" as="geometry" />
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-2" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;//[3] &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;prepareBeanFactory(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      try &lt;/span&gt;{&lt;br&gt;         &lt;span style=&quot;color:#808080;&quot;&gt;//[4] 允许 context 子类中 bean factory 前置处理&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;postProcessBeanFactory(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;font color=&quot;#808080&quot;&gt;//[5]&lt;/font&gt; &lt;span style=&quot;color:#808080;&quot;&gt;Invoke factory processors registered as beans in the context.&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;br&gt;         &lt;/span&gt;invokeBeanFactoryPostProcessors(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;font color=&quot;#808080&quot;&gt;//[6]&lt;/font&gt; &lt;span style=&quot;color:#808080;&quot;&gt;Register bean processors that intercept bean creation.&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;br&gt;         &lt;/span&gt;registerBeanPostProcessors(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;//[7] &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;initMessageSource()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;//[8] Initialize event multicaster for this context.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;initApplicationEventMulticaster()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;//[9] 初始化特定 context subClasses 中的其他特殊 bean&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;onRefresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;//[10] Check for listener beans and register them.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;registerListeners()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;//[11] 实例化所有剩余（非惰性初始化）单例&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;finishBeanFactoryInitialization(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;//[12] 最后一步：发布相应的事件&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;finishRefresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(BeansException ex) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#9876aa;&quot;&gt;logger&lt;/span&gt;.isWarnEnabled()) {&lt;br&gt;            &lt;span style=&quot;color:#9876aa;&quot;&gt;logger&lt;/span&gt;.warn(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Exception encountered during context initialization - &quot; &lt;/span&gt;+&lt;br&gt;                  &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;cancelling refresh attempt: &quot; &lt;/span&gt;+ ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;&lt;br&gt;         &lt;span style=&quot;color:#808080;&quot;&gt;// 销毁已创建的单例,释放资源&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;destroyBeans()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// 重置 active = false &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;cancelRefresh(ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;throw &lt;/span&gt;ex&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;finally &lt;/span&gt;{&lt;br&gt;         &lt;span style=&quot;color:#808080;&quot;&gt;// 重置 Spring 核心中的常见内省缓存&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;         &lt;/span&gt;resetCommonCaches()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;br&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="1UOMO2lI6X677FkX98Mo-1" vertex="1">
          <mxGeometry y="228" width="810" height="882" as="geometry" />
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-3" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;i&gt;/**&lt;br&gt; * 准备此上下文以进行刷新、设置其启动日期、切换为激活态、初始化属性源&lt;br&gt; *&lt;br&gt; */&lt;/i&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;protected void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;prepareRefresh&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=104;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="1902" width="810" height="100" as="geometry">
            <mxRectangle y="910" width="810" height="666" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1UOMO2lI6X677FkX98Mo-4" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;       &lt;font color=&quot;#808080&quot;&gt;//[1] 设置启动时间、切换为激活态&lt;/font&gt;&lt;br&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt; this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;startupDate &lt;/span&gt;= System.&lt;span style=&quot;font-style:italic;&quot;&gt;currentTimeMillis&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;closed&lt;/span&gt;.set(&lt;span style=&quot;color:#cc7832;&quot;&gt;false&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;active&lt;/span&gt;.set(&lt;span style=&quot;color:#cc7832;&quot;&gt;true&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       if &lt;/span&gt;(&lt;span style=&quot;color:#9876aa;&quot;&gt;logger&lt;/span&gt;.isDebugEnabled()) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;    if &lt;/span&gt;(&lt;span style=&quot;color:#9876aa;&quot;&gt;logger&lt;/span&gt;.isTraceEnabled()) {&lt;br&gt;             &lt;span style=&quot;color:#9876aa;&quot;&gt;logger&lt;/span&gt;.trace(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Refreshing &quot; &lt;/span&gt;+ &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;    }&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;    else &lt;/span&gt;{&lt;br&gt;         &lt;span style=&quot;color:#9876aa;&quot;&gt;    logger&lt;/span&gt;.debug(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Refreshing &quot; &lt;/span&gt;+ getDisplayName())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt; }&lt;br&gt;       }&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;    //[2] 初始化 context 环境中的属性源&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt; initPropertySources()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    //[3] Validate that all properties marked as required are resolvable:&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       // see ConfigurablePropertyResolver#setRequiredProperties&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt; getEnvironment().validateRequiredProperties()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    //[4] Store pre-refresh ApplicationListeners...&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;    if &lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;earlyApplicationListeners &lt;/span&gt;== &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;          &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;earlyApplicationListeners &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;LinkedHashSet&amp;lt;&amp;gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationListeners&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;    }&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;    else &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;    // Reset local application listeners to pre-refresh state.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;    this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationListeners&lt;/span&gt;.clear()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;          this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;applicationListeners&lt;/span&gt;.addAll(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;earlyApplicationListeners&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt; }&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;    //[5] Allow for the collection of early ApplicationEvents,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;       // to be published once the multicaster is available...&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;    this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;earlyApplicationEvents &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;LinkedHashSet&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;    }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="1UOMO2lI6X677FkX98Mo-3" vertex="1">
          <mxGeometry y="104" width="810" height="562" as="geometry" />
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--13" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;i&gt; 默认空函数, 给子类覆盖用的&lt;/i&gt; */&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;protected void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;initPropertySources&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=52;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="IPlpxwSUbaRP93qfnXsg-3" vertex="1" collapsed="1">
          <mxGeometry y="2002" width="810" height="58" as="geometry">
            <mxRectangle y="1010" width="810" height="100" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UW4yw8YK71U5aKca6fa--14" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#808080&quot;&gt;// For subclasses: do nothing by default.&lt;/font&gt;&lt;br&gt;    }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="UW4yw8YK71U5aKca6fa--13" vertex="1">
          <mxGeometry y="52" width="810" height="48" as="geometry" />
        </mxCell>
        <mxCell id="84UgtmRm1dfULzE9Km2T-1" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;i&gt; &lt;/i&gt; */&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;protected void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;prepareBeanFactory&lt;/span&gt;(ConfigurableListableBeanFactory beanFactory) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=52;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" vertex="1" parent="IPlpxwSUbaRP93qfnXsg-3">
          <mxGeometry y="2060" width="810" height="750" as="geometry">
            <mxRectangle y="2060" width="810" height="58" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="84UgtmRm1dfULzE9Km2T-2" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;span style=&quot;color:#808080;&quot;&gt;// 设置内部Bean工厂使用 context 类加载器&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;   beanFactory.setBeanClassLoader(getClassLoader())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   &lt;br&gt;      beanFactory.setBeanExpressionResolver(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;StandardBeanExpressionResolver(beanFactory.getBeanClassLoader()))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.addPropertyEditorRegistrar(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ResourceEditorRegistrar(&lt;span style=&quot;color:#cc7832;&quot;&gt;this, &lt;/span&gt;getEnvironment()))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   // Configure the bean factory with context callbacks.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;   beanFactory.addBeanPostProcessor(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ApplicationContextAwareProcessor(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.ignoreDependencyInterface(EnvironmentAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.ignoreDependencyInterface(EmbeddedValueResolverAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.ignoreDependencyInterface(ResourceLoaderAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.ignoreDependencyInterface(ApplicationEventPublisherAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.ignoreDependencyInterface(MessageSourceAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.ignoreDependencyInterface(ApplicationContextAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   // BeanFactory interface not registered as resolvable type in a plain factory.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      // MessageSource registered (and found for autowiring) as a bean.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;   beanFactory.registerResolvableDependency(BeanFactory.&lt;span style=&quot;color:#cc7832;&quot;&gt;class, &lt;/span&gt;beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.registerResolvableDependency(ResourceLoader.&lt;span style=&quot;color:#cc7832;&quot;&gt;class, this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.registerResolvableDependency(ApplicationEventPublisher.&lt;span style=&quot;color:#cc7832;&quot;&gt;class, this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   beanFactory.registerResolvableDependency(ApplicationContext.&lt;span style=&quot;color:#cc7832;&quot;&gt;class, this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   // Register early post-processor for detecting inner beans as ApplicationListeners.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;   beanFactory.addBeanPostProcessor(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ApplicationListenerDetector(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   // Detect a LoadTimeWeaver and prepare for weaving, if found.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(beanFactory.containsBean(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;LOAD_TIME_WEAVER_BEAN_NAME&lt;/span&gt;)) {&lt;br&gt;         beanFactory.addBeanPostProcessor(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;LoadTimeWeaverAwareProcessor(beanFactory))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;  // Set a temporary ClassLoader for type matching.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;   beanFactory.setTempClassLoader(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ContextTypeMatchClassLoader(beanFactory.getBeanClassLoader()))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   }&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#808080;&quot;&gt;   // Register default environment beans.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(!beanFactory.containsLocalBean(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;ENVIRONMENT_BEAN_NAME&lt;/span&gt;)) {&lt;br&gt;         beanFactory.registerSingleton(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;ENVIRONMENT_BEAN_NAME&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;getEnvironment())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(!beanFactory.containsLocalBean(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SYSTEM_PROPERTIES_BEAN_NAME&lt;/span&gt;)) {&lt;br&gt;         beanFactory.registerSingleton(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SYSTEM_PROPERTIES_BEAN_NAME&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;getEnvironment().getSystemProperties())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;   if &lt;/span&gt;(!beanFactory.containsLocalBean(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SYSTEM_ENVIRONMENT_BEAN_NAME&lt;/span&gt;)) {&lt;br&gt;         beanFactory.registerSingleton(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SYSTEM_ENVIRONMENT_BEAN_NAME&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;getEnvironment().getSystemEnvironment())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;   }&lt;br&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" vertex="1" parent="84UgtmRm1dfULzE9Km2T-1">
          <mxGeometry y="52" width="810" height="698" as="geometry" />
        </mxCell>
        <UserObject label="&lt;font style=&quot;font-size: 14px;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/font&gt;" tooltip="Web服务应用上下文" id="K4VY5pfUCq5O3IM_uIsJ-93">
          <mxCell style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;spacingLeft=24;verticalAlign=middle;startSize=20;" parent="gZtpTX1WfCaNUSenPJXd-176" vertex="1" collapsed="1">
            <mxGeometry y="3762" width="2764" height="20" as="geometry">
              <mxRectangle y="2210" width="2760" height="5209" as="alternateBounds" />
            </mxGeometry>
          </mxCell>
        </UserObject>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-94" value="&lt;b&gt;Web服务应用上下文&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="353" y="30" width="770" height="30" as="geometry" />
        </mxCell>
        <UserObject label="ApplicationContext" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;为应用程序提供配置的核心接口&#xa;&lt;hr&gt;&lt;b&gt;主要功能：&lt;/b&gt;&#xa;1)用于访问应用程序组件的 Bean 工厂方法。继承自 ListableBeanFactory。&#xa;2)以通用方式加载文件资源的能力。继承自 org.springframework.core.io.ResourceLoader 接口。&#xa;3)将事件发布到已注册的侦听器的功能。继承自 ApplicationEventPublisher 接口。&#xa;4)解析消息的能力，支持国际化。继承自 MessageSource 接口。&#xa;5)可以从父上下文继承。子上下文中的定义覆盖父上下文的定义。&#xa;  例如，单个父上下文可以被整个 Web 应用程序使用，而每个 servlet 都有自己的子上下文，独立于任何其他 servlet 的子上下文。&#xa;&#xa;&lt;b&gt;注意：&lt;/b&gt;&#xa;1)除了标准的 &lt;b style=&quot;color:blue&quot;&gt;org.springframework.beans.factory.BeanFactory&lt;/b&gt; 生命周期功能外，ApplicationContext 的 实现类还可以检测并调用 &lt;b style=&quot;color:blue&quot;&gt;ApplicationContextAware&lt;/b&gt; 以及 &lt;b style=&quot;color:blue&quot;&gt;ResourceLoaderAware&lt;/b&gt;、&lt;b style=&quot;color:blue&quot;&gt;ApplicationEventPublisherAware&lt;/b&gt; 和 &lt;b style=&quot;color:blue&quot;&gt;MessageSourceAware&lt;/b&gt; bean。&#xa;2)ApplicationContext 实现了 EnvironmentCapable，从而公开了一个 getEnvironment()方法; 但是，ConfigurableApplicationContext 重新定义了 getEnvironment()并缩小了签名范围以返回 ConfigurableEnvironment。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getId: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getApplicationName: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getDisplayName: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getStartupDate: long&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getParent: ApplicationContext&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getAutowireCapableBeanFactory: AutowireCapableBeanFactory&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="K4VY5pfUCq5O3IM_uIsJ-95">
          <mxCell style="html=1;whiteSpace=wrap;fontStyle=1;dashed=1;shadow=0;rounded=0;glass=0;strokeWidth=2;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
            <mxGeometry x="660.75" y="89" width="150" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-96" value="DefaultResourceLoader" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="1208.25" y="290" width="163" height="30" as="geometry" />
        </mxCell>
        <UserObject label="ResourceLoader" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用于加载资源的策略接口（例如.class路径或文件系统资源）。&#xa;&#xa;1)需要&lt;b style=&quot;color:blue&quot;&gt; org.springframework.context.ApplicationContext&lt;/b&gt;来提供此功能，以及扩展的&lt;b style=&quot;color:blue&quot;&gt;org.springframework.core.io.support.ResourcePatternResolver&lt;/b&gt;支持。&#xa;2)在ApplicationContext中运行时，Resource 和 Resource 数组类型的 Bean 属性通过特定的上下文资源加载策略从字符串中转换而来。&#xa;&#xa;&lt;b&gt;注意：&lt;/b&gt;&lt;b style=&quot;color:blue&quot;&gt;DefaultResourceLoader&lt;/b&gt; 是一个独立的实现，可在 ApplicationContext 之外使用，也被 ResourceEditor 使用。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法/属性：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getResource: Resource&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getClassLoader: ClassLoader&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;CLASSPATH_URL_PREFIX = &quot;classpath:&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;&#xa;" id="K4VY5pfUCq5O3IM_uIsJ-97">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
            <mxGeometry x="1208.75" y="190" width="161" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-98" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-96" target="K4VY5pfUCq5O3IM_uIsJ-97" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1425.75" y="74" as="sourcePoint" />
            <mxPoint x="1585.75" y="74" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1289" y="270" />
              <mxPoint x="1289" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="ConfigurableApplicationContext" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px;max-width:800px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;Spring Boot 上下文根接口&#xa;&lt;hr&gt;SPI（Service Provider Interface） 接口将由大多数应用程序上下文实现。提供用于配置应用程序上下文以及接口中的 ApplicationContext 应用程序上下文客户端方法的工具。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法/属性：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONFIG_LOCATION_DELIMITERS = &quot;,; \t\n&quot;;&lt;/b&gt; (分隔符)&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONVERSION_SERVICE_BEAN_NAME = &quot;conversionService&quot;&lt;/b&gt; &#xa;工厂中转换服务Bean的名称。如果未提供任何转换规则，则应用默认转换规则。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;LOAD_TIME_WEAVER_BEAN_NAME = &quot;loadTimeWeaver&quot;&lt;/b&gt;&#xa;工厂中 LoadTimeWeaver bean 的名称。如果提供了这样的 Bean，上下文将使用临时 ClassLoader 进行类型匹配，以便允许 LoadTimeWeaver 处理所有实际的 Bean 类。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;ENVIRONMENT_BEAN_NAME = &quot;environment&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SYSTEM_PROPERTIES_BEAN_NAME = &quot;systemProperties&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SYSTEM_ENVIRONMENT_BEAN_NAME = &quot;systemEnvironment&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SHUTDOWN_HOOK_THREAD_NAME = &quot;SpringContextShutdownHook&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;addBeanFactoryPostProcessor: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;addApplicationListener: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;setClassLoder: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;addProtocolResolver: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;refresh: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;registerShutdownHook: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;isActive: boolean&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getBeanFactory: ConfigurableListableBeanFactory&lt;/b&gt;&#xa;&lt;b&gt;注意&lt;/b&gt;: 不要使用它来对 bean 工厂进行后置处理(post-process)&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;...&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="K4VY5pfUCq5O3IM_uIsJ-99">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;fontStyle=1;strokeWidth=2;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
            <mxGeometry x="641.75" y="190" width="188" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-100" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-99" target="K4VY5pfUCq5O3IM_uIsJ-95" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="986.75" y="172" as="sourcePoint" />
            <mxPoint x="905.75" y="99" as="targetPoint" />
            <Array as="points">
              <mxPoint x="735.75" y="150" />
              <mxPoint x="735.75" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-101" value="Lifecycle" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="444.25" y="140" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-102" value="Closeable" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="919" y="140" width="84" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-103" value="AutoClouseable" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="1160" y="140" width="118" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-104" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-102" target="K4VY5pfUCq5O3IM_uIsJ-103" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="745.75" y="99" as="sourcePoint" />
            <mxPoint x="1147.75" y="9" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-105" value="AbstractApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="654.25" y="290" width="163" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-106" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-105" target="K4VY5pfUCq5O3IM_uIsJ-99" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1473.75" y="311" as="sourcePoint" />
            <mxPoint x="1473.75" y="231" as="targetPoint" />
            <Array as="points">
              <mxPoint x="735.75" y="260" />
              <mxPoint x="735.75" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-107" value="GenericApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="654.25" y="413" width="163" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-108" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-105" target="K4VY5pfUCq5O3IM_uIsJ-96" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1310.75" y="99" as="sourcePoint" />
            <mxPoint x="1310.75" y="9" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-109" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.461;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-126" target="K4VY5pfUCq5O3IM_uIsJ-107" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="735.7499999999995" y="510" as="sourcePoint" />
            <mxPoint x="752.75" y="301" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-110" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-107" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="735.3600000000001" y="391" as="sourcePoint" />
            <mxPoint x="735.3600000000001" y="320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="735.75" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-111" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-99" target="K4VY5pfUCq5O3IM_uIsJ-102" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1001.75" y="215" as="sourcePoint" />
            <mxPoint x="1075.75" y="215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-112" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-99" target="K4VY5pfUCq5O3IM_uIsJ-101" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="839.75" y="215" as="sourcePoint" />
            <mxPoint x="925.75" y="215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-113" value="Aliasrergistry" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="429.25" y="195" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-114" value="BeanDefinitionRegistry" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="398.75" y="290" width="151" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-115" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-107" target="K4VY5pfUCq5O3IM_uIsJ-114" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="951.75" y="530" as="sourcePoint" />
            <mxPoint x="1073.75" y="446" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-116" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-114" target="K4VY5pfUCq5O3IM_uIsJ-113" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="745.75" y="200" as="sourcePoint" />
            <mxPoint x="523.75" y="129" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-117" value="&lt;div&gt;WebServerApplicationContext&lt;/div&gt;" style="html=1;whiteSpace=wrap;dashed=1;fillColor=#E6E6E6;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="200" y="200" width="189" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div&gt;WebApplicationContext&lt;/div&gt;" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用于为 Web 应用程序提供配置的接口&lt;hr&gt;&#xa;1)此接口将方法 getServletContext() 添加到通用应用程序上下文接口，并定义在引导过程中绑定到已知应用程序属性名称的根上下文。&#xa;2)与通用应用程序上下文一样，Web 应用程序上下文是分层的。每个应用程序都有一个根上下文，而应用程序中的每个 servlet（包括 MVC 框架中的调度程序 servlet）都有自己的子上下文。&#xa;3)除了标准的应用程序上下文生命周期功能之外，WebApplicationContext 实现还需要检测 ServletContextAware bean 及调用 setServletContext 方法。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法/属性：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getServletContext: ServletContext&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE = WebApplicationContext.class.getName() + &quot;.ROOT&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SCOPE_REQUEST = &quot;request&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SCOPE_SESSION = &quot;session&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SCOPE_APPLICATION = &quot;application&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SERVLET_CONTEXT_BEAN_NAME = &quot;servletContext&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONTEXT_PARAMETERS_BEAN_NAME = &quot;contextParameters&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONTEXT_ATTRIBUTES_BEAN_NAME = &quot;contextAttributes&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="K4VY5pfUCq5O3IM_uIsJ-118">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
            <mxGeometry x="1003" y="190" width="144" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-119" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-117" target="K4VY5pfUCq5O3IM_uIsJ-95" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="746" y="200" as="sourcePoint" />
            <mxPoint x="523" y="129" as="targetPoint" />
            <Array as="points">
              <mxPoint x="295" y="104" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-120" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=1;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-118" target="K4VY5pfUCq5O3IM_uIsJ-95" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="305" y="210" as="sourcePoint" />
            <mxPoint x="746" y="99" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1075" y="104" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-121" value="ConfigurableWebServerApplicationContext" style="html=1;whiteSpace=wrap;dashed=1;fillColor=#E6E6E6;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="168" y="436" width="254" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-122" value="ConfigurableWebApplicationContext" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="947" y="413" width="254" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-123" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-121" target="K4VY5pfUCq5O3IM_uIsJ-117" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="523" y="300" as="sourcePoint" />
            <mxPoint x="523" y="235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-124" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-121" target="K4VY5pfUCq5O3IM_uIsJ-99" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="305" y="446" as="sourcePoint" />
            <mxPoint x="305" y="240" as="targetPoint" />
            <Array as="points">
              <mxPoint x="580" y="451" />
              <mxPoint x="580" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-125" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-122" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="431" y="461" as="sourcePoint" />
            <mxPoint x="829" y="205" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1073" y="360" />
              <mxPoint x="939" y="360" />
              <mxPoint x="939" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-126" value="GenericWebApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="650.25" y="533" width="186" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-127" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-122" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="745" y="530" as="sourcePoint" />
            <mxPoint x="1074.0000000000005" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-128" value="ThemeSource" style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="948" y="533" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-129" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-126" target="K4VY5pfUCq5O3IM_uIsJ-122" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="746" y="423" as="sourcePoint" />
            <mxPoint x="484" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-130" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-126" target="K4VY5pfUCq5O3IM_uIsJ-128" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="846" y="558" as="sourcePoint" />
            <mxPoint x="957" y="451" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-131" value="ServletWebServerApplicationContext" style="html=1;whiteSpace=wrap;fillColor=#E6E6E6;strokeColor=#666666;fontColor=#333333;fontStyle=0;strokeWidth=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="178" y="533" width="235" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-132" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-134" target="K4VY5pfUCq5O3IM_uIsJ-131" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="705" y="430" as="sourcePoint" />
            <mxPoint x="705" y="351" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-133" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-131" target="K4VY5pfUCq5O3IM_uIsJ-121" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1156" y="559" as="sourcePoint" />
            <mxPoint x="295" y="479" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-134" value="AnnotationConfigServletWebServerApplicationContext" style="html=1;whiteSpace=wrap;fillColor=#E6E6E6;strokeColor=#666666;fontColor=#333333;fontStyle=1;strokeWidth=2;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
          <mxGeometry x="121" y="680" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-135" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-134" target="K4VY5pfUCq5O3IM_uIsJ-136" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="411" y="546" as="sourcePoint" />
            <mxPoint x="410" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="AnnotationConfigRegistry" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px;max-width:800px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用注解的方式配置应用程序上下文&#xa;&lt;hr&gt;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;register: void&lt;/b&gt;&#xa;注册一个或多个要处理的组件类, 对 register 调用是幂等的。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;scan: void&lt;/b&gt;&#xa;在指定的基本软件包中执行扫描&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="K4VY5pfUCq5O3IM_uIsJ-136">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1">
            <mxGeometry x="434" y="602" width="164" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-137" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;" parent="K4VY5pfUCq5O3IM_uIsJ-93" source="K4VY5pfUCq5O3IM_uIsJ-131" target="K4VY5pfUCq5O3IM_uIsJ-126" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="305" y="703" as="sourcePoint" />
            <mxPoint x="306" y="589" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-138" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1" collapsed="1">
          <mxGeometry x="122" y="686.5" width="19" height="18" as="geometry">
            <mxRectangle x="122" y="686.5" width="868" height="1675" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-139" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;public class AnnotationConfigServletWebServerApplicationContext &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;ServletWebServerApplicationContext&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;implements &lt;/span&gt;AnnotationConfigRegistry {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;AnnotatedBeanDefinitionReader &lt;span style=&quot;color:#9876aa;&quot;&gt;reader&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   private final &lt;/span&gt;ClassPathBeanDefinitionScanner &lt;span style=&quot;color:#9876aa;&quot;&gt;scanner&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   private final &lt;/span&gt;Set&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; &lt;span style=&quot;color:#9876aa;&quot;&gt;annotatedClasses &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;LinkedHashSet&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   private &lt;/span&gt;String[] &lt;span style=&quot;color:#9876aa;&quot;&gt;basePackages&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;   // &lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;构造函数, 该构造函数为 spring boot 程序启动加载&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/span&gt;() {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;AnnotatedBeanDefinitionReader(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ClassPathBeanDefinitionScanner(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   // &lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;构造函数&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/span&gt;(DefaultListableBeanFactory beanFactory) {                     &lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;super&lt;/span&gt;(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;AnnotatedBeanDefinitionReader(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ClassPathBeanDefinitionScanner(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   // &lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;构造函数&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/span&gt;(Class&amp;lt;?&amp;gt;... annotatedClasses) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;register(annotatedClasses)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;refresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   // &lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;构造函数&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/span&gt;(String... basePackages) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;scan(basePackages)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;refresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt; &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;设置应用环境&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setEnvironment&lt;/span&gt;(ConfigurableEnvironment environment) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;super&lt;/span&gt;.setEnvironment(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader&lt;/span&gt;.setEnvironment(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner&lt;/span&gt;.setEnvironment(environment)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;提供用于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotatedBeanDefinitionReader/ ClassPathBeanDefinitionScanner &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的自定义&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;BeanNameGenerator&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 1) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;当&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; beanNameGenerator &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; null, &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;设置默认实例&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationBeanNameGenerator&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 2) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对该方法的调用必须在&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; register(Class...) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;或&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; scan(String...) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;之前进行。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setBeanNameGenerator&lt;/span&gt;(BeanNameGenerator beanNameGenerator) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader&lt;/span&gt;.setBeanNameGenerator(beanNameGenerator)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner&lt;/span&gt;.setBeanNameGenerator(beanNameGenerator)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.getBeanFactory().registerSingleton(AnnotationConfigUtils.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;CONFIGURATION_BEAN_NAME_GENERATOR&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            &lt;/span&gt;beanNameGenerator)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;/*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;提供用于&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotatedBeanDefinitionReader/ ClassPathBeanDefinitionScanner &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的自定义&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; ScopeMetadataResolver&lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 1) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;当&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; scopeMetadataResolver &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; null, &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;设置默认实例&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; AnnotationScopeMetadataResolver&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    * 2) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对该方法的调用必须在&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; register(Class...) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;或&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt; scan(String...) &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;之前进行。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setScopeMetadataResolver&lt;/span&gt;(ScopeMetadataResolver scopeMetadataResolver) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader&lt;/span&gt;.setScopeMetadataResolver(scopeMetadataResolver)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner&lt;/span&gt;.setScopeMetadataResolver(scopeMetadataResolver)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public final void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;register&lt;/span&gt;(Class&amp;lt;?&amp;gt;... annotatedClasses) {&lt;br&gt;      Assert.&lt;span style=&quot;font-style:italic;&quot;&gt;notEmpty&lt;/span&gt;(annotatedClasses&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;At least one annotated class must be specified&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;annotatedClasses&lt;/span&gt;.addAll(Arrays.&lt;span style=&quot;font-style:italic;&quot;&gt;asList&lt;/span&gt;(annotatedClasses))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;  /*&lt;br&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   * &lt;/span&gt;&lt;span style=&quot;color:#808080;font-family:&#39;宋体&#39;,monospace;&quot;&gt;在指定的基本软件包中执行扫描。&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   */&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public final void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;scan&lt;/span&gt;(String... basePackages) {&lt;br&gt;      Assert.&lt;span style=&quot;font-style:italic;&quot;&gt;notEmpty&lt;/span&gt;(basePackages&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;At least one base package must be specified&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;basePackages &lt;/span&gt;= basePackages&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;prepareRefresh&lt;/span&gt;() {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner&lt;/span&gt;.clearCache()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      super&lt;/span&gt;.prepareRefresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;postProcessBeanFactory&lt;/span&gt;(ConfigurableListableBeanFactory beanFactory) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;super&lt;/span&gt;.postProcessBeanFactory(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;basePackages &lt;/span&gt;!= &lt;span style=&quot;color:#cc7832;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;basePackages&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;length &lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#6897bb;&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scanner&lt;/span&gt;.scan(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;basePackages&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;if &lt;/span&gt;(!&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;annotatedClasses&lt;/span&gt;.isEmpty()) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;reader&lt;/span&gt;.register(ClassUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;toClassArray&lt;/span&gt;(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;annotatedClasses&lt;/span&gt;))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;br&gt;&lt;br&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="K4VY5pfUCq5O3IM_uIsJ-138" vertex="1">
          <mxGeometry y="25" width="868" height="1650" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-140" value="" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=25;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;fillColor=none;strokeColor=none;swimlaneFillColor=#2A2A2A;align=center;gradientColor=none;gradientDirection=radial;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;spacingLeft=12;" parent="K4VY5pfUCq5O3IM_uIsJ-93" vertex="1" collapsed="1">
          <mxGeometry x="178" y="539" width="19" height="18" as="geometry">
            <mxRectangle x="178" y="539" width="868" height="1344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-141" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;br&gt; * &lt;br&gt; */&lt;/font&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;/span&gt;&lt;br&gt;public class ServletWebServerApplicationContext &lt;span style=&quot;color:#cc7832;&quot;&gt;extends &lt;/span&gt;GenericWebApplicationContext&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;implements &lt;/span&gt;ConfigurableWebServerApplicationContext {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;private static final &lt;/span&gt;Log &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;logger &lt;/span&gt;= LogFactory.&lt;span style=&quot;font-style:italic;&quot;&gt;getLog&lt;/span&gt;(ServletWebServerApplicationContext.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;br&gt;    * DispatcherServlet Bean &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;名称的常量值。具有此名称的&lt;/span&gt; Servlet bean &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;被视为主要&lt;/span&gt; servlet&lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;，默认情况下会自动给出&lt;/span&gt; “/” &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;的映射。&lt;/span&gt;&lt;br&gt;    * &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;若要更改默认行为，可以使用一个&lt;/span&gt; ServletRegistrationBean &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;或另一个&lt;/span&gt; Bean &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;名称。&lt;/span&gt;&lt;br&gt;    */&lt;/font&gt;&lt;span style=&quot;color:#808080;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public static final &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;DISPATCHER_SERVLET_NAME &lt;/span&gt;= &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;dispatcherServlet&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   private volatile &lt;/span&gt;WebServer &lt;span style=&quot;color:#9876aa;&quot;&gt;webServer&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   private &lt;/span&gt;ServletConfig &lt;span style=&quot;color:#9876aa;&quot;&gt;servletConfig&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   private &lt;/span&gt;String &lt;span style=&quot;color:#9876aa;&quot;&gt;serverNamespace&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;   &lt;br&gt;&lt;br&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=bottom;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingTop=-16;spacingBottom=-16;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1">
          <mxGeometry y="25" width="868" height="330" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-142" value="&lt;div&gt;&lt;font color=&quot;#67ab9f&quot;&gt;&lt;b&gt;构造函数&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp; 2个&lt;/font&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=36;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="355" width="868" height="32" as="geometry">
            <mxRectangle y="315" width="868" height="206" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-143" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;ServletWebServerApplicationContext&lt;/span&gt;() {&lt;br&gt;   }&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;ServletWebServerApplicationContext&lt;/span&gt;(DefaultListableBeanFactory beanFactory) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;super&lt;/span&gt;(beanFactory)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-142" vertex="1">
          <mxGeometry y="36" width="868" height="170" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-144" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;postProcessBeanFactory&lt;/span&gt;(ConfigurableListableBeanFactory beanFactory) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="387" width="868" height="53" as="geometry">
            <mxRectangle y="347" width="868" height="150" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-145" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;       beanFactory.addBeanPostProcessor(new WebApplicationContextServletContextAwareProcessor(&lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;        &lt;/span&gt;beanFactory.ignoreDependencyInterface(ServletContextAware.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-144" vertex="1">
          <mxGeometry y="50" width="868" height="40" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-146" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &lt;/font&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#9ac7bf&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;函数:&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;b&gt;registerWebApplicationScopes &amp;nbsp;&lt;/b&gt;&lt;/font&gt; &lt;font color=&quot;#67ab9f&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#006600;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-144" vertex="1" collapsed="1">
          <mxGeometry y="90" width="868" height="23" as="geometry">
            <mxRectangle y="90" width="868" height="130" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-147" value="&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   &lt;font color=&quot;#cc7832&quot;&gt;private void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;registerWebApplicationScopes&lt;/span&gt;() {&lt;br&gt;       ExistingWebApplicationScopes existingScopes = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ExistingWebApplicationScopes(getBeanFactory())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       &lt;/span&gt;WebApplicationContextUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;registerWebApplicationScopes&lt;/span&gt;(getBeanFactory())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;    existingScopes.restore()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;   }&lt;/pre&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-146" vertex="1">
          <mxGeometry y="30" width="868" height="100" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-148" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt; &lt;/span&gt;registerWebApplicationScopes()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;    &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-144" vertex="1">
          <mxGeometry y="113" width="868" height="37" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-149" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public final void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;refresh&lt;/span&gt;() &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;BeansException&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;IllegalStateException {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="440" width="868" height="53" as="geometry">
            <mxRectangle y="400" width="868" height="190" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-150" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;try &lt;/font&gt;{&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;super&lt;/span&gt;.refresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(RuntimeException ex) {&lt;br&gt;         stopAndReleaseWebServer()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         throw &lt;/span&gt;ex&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-149" vertex="1">
          <mxGeometry y="50" width="868" height="140" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-151" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;onRefresh&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="493" width="868" height="50" as="geometry">
            <mxRectangle y="453" width="868" height="221" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-152" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;super&lt;/font&gt;.onRefresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      try &lt;/span&gt;{&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-151" vertex="1">
          <mxGeometry y="50" width="868" height="40" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-153" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#9ac7bf&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;函数:&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;b&gt;createWebServer &amp;nbsp;&lt;/b&gt;&lt;/font&gt; &lt;font color=&quot;#67ab9f&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#006600;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-151" vertex="1" collapsed="1">
          <mxGeometry y="90" width="868" height="23" as="geometry">
            <mxRectangle y="90" width="868" height="320" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-154" value="&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   private void &lt;span style=&quot;color:#ffc66d;&quot;&gt;createWebServer&lt;/span&gt;() {&lt;br&gt;       WebServer webServer = &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webServer&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;    ServletContext servletContext = getServletContext()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;       if &lt;/span&gt;(webServer == &lt;span style=&quot;color:#cc7832;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; servletContext == &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;          ServletWebServerFactory factory = getWebServerFactory()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;          this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webServer &lt;/span&gt;= factory.getWebServer(getSelfInitializer())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;    }&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;    else if &lt;/span&gt;(servletContext != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;    try &lt;/span&gt;{&lt;br&gt;             getSelfInitializer().onStartup(servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;          &lt;/span&gt;}&lt;br&gt;          &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(ServletException ex) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;    throw new &lt;/span&gt;ApplicationContextException(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Cannot initialize servlet context&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;          &lt;/span&gt;}&lt;br&gt;       }&lt;br&gt;       &lt;font color=&quot;#808080&quot;&gt;// 父类继承的函数&lt;/font&gt;&lt;br&gt;       initPropertySources()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;   }&lt;/pre&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-153" vertex="1">
          <mxGeometry y="30" width="868" height="290" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-155" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;          createWebServer()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(Throwable ex) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;ApplicationContextException(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Unable to start web server&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-151" vertex="1">
          <mxGeometry y="113" width="868" height="108" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-156" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;finishRefresh&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="543" width="868" height="50" as="geometry">
            <mxRectangle y="503" width="868" height="170" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-157" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;super&lt;/font&gt;.finishRefresh()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;WebServer webServer = startWebServer()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(webServer != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;         publishEvent(&lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ServletWebServerInitializedEvent(webServer&lt;span style=&quot;color:#cc7832;&quot;&gt;, this&lt;/span&gt;))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-156" vertex="1">
          <mxGeometry y="50" width="868" height="120" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-158" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;protected&lt;/font&gt; void &lt;span style=&quot;color:#ffc66d;&quot;&gt;onClose&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="593" width="868" height="50" as="geometry">
            <mxRectangle y="760" width="868" height="110" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-159" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;super&lt;/span&gt;.onClose()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;stopAndReleaseWebServer()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-158" vertex="1">
          <mxGeometry y="50" width="868" height="60" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-160" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;br&gt; * &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;用于创建&lt;/span&gt; WebServer &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;的&lt;/span&gt; ServletWebServerFactory&lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;。默认情况下，此方法在上下文本身中搜索合适的&lt;/span&gt; Bean&lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;。&lt;/span&gt;&lt;br&gt; */&lt;/font&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected &lt;/span&gt;ServletWebServerFactory &lt;span style=&quot;color:#ffc66d;&quot;&gt;getWebServerFactory&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=87;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="643" width="868" height="87" as="geometry">
            <mxRectangle y="603" width="868" height="286" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-161" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#808080&quot;&gt;      // Use bean names so that we don&#39;t consider the hierarchy&lt;/font&gt;&lt;br&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;String[] beanNames = getBeanFactory().getBeanNamesForType(ServletWebServerFactory.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(beanNames.&lt;span style=&quot;color:#9876aa;&quot;&gt;length &lt;/span&gt;== &lt;span style=&quot;color:#6897bb;&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;ApplicationContextException(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Unable to start ServletWebServerApplicationContext due to missing &quot;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;               &lt;/span&gt;+ &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;ServletWebServerFactory bean.&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;if &lt;/span&gt;(beanNames.&lt;span style=&quot;color:#9876aa;&quot;&gt;length &lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#6897bb;&quot;&gt;1&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;ApplicationContextException(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Unable to start ServletWebServerApplicationContext due to multiple &quot;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;               &lt;/span&gt;+ &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;ServletWebServerFactory beans : &quot; &lt;/span&gt;+ StringUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;arrayToCommaDelimitedString&lt;/span&gt;(beanNames))&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;return &lt;/span&gt;getBeanFactory().getBean(beanNames[&lt;span style=&quot;color:#6897bb;&quot;&gt;0&lt;/span&gt;]&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ServletWebServerFactory.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-160" vertex="1">
          <mxGeometry y="87" width="868" height="199" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-162" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;br&gt; * &lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;用于完成此&lt;/span&gt; WebApplicationContext&lt;span style=&quot;font-family: &amp;quot;宋体&amp;quot;, monospace;&quot;&gt;的设置的 。&lt;/span&gt;&lt;br&gt; */&lt;/font&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;private &lt;/span&gt;org.springframework.boot.web.servlet.ServletContextInitializer &lt;span style=&quot;color:#ffc66d;&quot;&gt;getSelfInitializer&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=80;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="730" width="868" height="80" as="geometry">
            <mxRectangle y="958" width="868" height="293" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-163" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;       &lt;font color=&quot;#cc7832&quot;&gt;return&lt;/font&gt; this::selfInitialize&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;selfInitialize&lt;/span&gt;(ServletContext servletContext) &lt;span style=&quot;color:#cc7832;&quot;&gt;throws &lt;/span&gt;ServletException {&lt;br&gt;        prepareWebApplicationContext(servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-162" vertex="1">
          <mxGeometry y="80" width="868" height="90" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-164" value="&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &lt;/font&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#9ac7bf&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;函数:&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;background-color: rgb(0, 102, 0);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;b&gt;registerWebApplicationScopes &amp;nbsp;&lt;/b&gt;&lt;/font&gt; &lt;font color=&quot;#67ab9f&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#006600;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=bottom;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-162" vertex="1" collapsed="1">
          <mxGeometry y="170" width="868" height="23" as="geometry">
            <mxRectangle y="170" width="868" height="130" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-165" value="&lt;blockquote&gt;&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;   private void &lt;span style=&quot;color:#ffc66d;&quot;&gt;registerApplicationScope&lt;/span&gt;(ServletContext servletContext) {&lt;br&gt;      ServletContextScope appScope = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;ServletContextScope(servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;getBeanFactory().registerScope(WebApplicationContext.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SCOPE_APPLICATION&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;appScope)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;// Register as ServletContext attribute, for ContextCleanupListener to detect it.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#808080;&quot;&gt;      &lt;/span&gt;servletContext.setAttribute(ServletContextScope.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;.getName()&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;appScope)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;&lt;/blockquote&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-164" vertex="1">
          <mxGeometry y="30" width="868" height="100" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-166" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;  registerApplicationScope(servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;  WebApplicationContextUtils.&lt;span style=&quot;font-style:italic;&quot;&gt;registerEnvironmentBeans&lt;/span&gt;(getBeanFactory()&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;        for &lt;/span&gt;(ServletContextInitializer beans : getServletContextInitializerBeans()) {&lt;br&gt;          beans.onStartup(servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;  }&lt;br&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-162" vertex="1">
          <mxGeometry y="193" width="868" height="100" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-167" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;br&gt; * &lt;br&gt; */&lt;/font&gt;&lt;br&gt;protected Collection&amp;lt;ServletContextInitializer&amp;gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;getServletContextInitializerBeans&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=80;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="810" width="868" height="80" as="geometry">
            <mxRectangle y="1038" width="868" height="130" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-168" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;       &lt;font color=&quot;#cc7832&quot;&gt;return new&lt;/font&gt; ServletContextInitializerBeans(getBeanFactory())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt; }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-167" vertex="1">
          <mxGeometry y="80" width="868" height="50" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-169" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;/font&gt;&lt;br&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;protected void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;prepareWebApplicationContext&lt;/span&gt;(ServletContext servletContext) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=83;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="890" width="868" height="82" as="geometry">
            <mxRectangle y="1118" width="868" height="560" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-170" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      Object rootContext = servletContext.getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(rootContext != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;if &lt;/span&gt;(rootContext == &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;IllegalStateException(&lt;br&gt;                  &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Cannot initialize context because there is already a root application context present - &quot;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;                        &lt;/span&gt;+ &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;check whether you have multiple ServletContextInitializers!&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;return;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      Log logger = LogFactory.&lt;span style=&quot;font-style:italic;&quot;&gt;getLog&lt;/span&gt;(ContextLoader.&lt;span style=&quot;color:#cc7832;&quot;&gt;class&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;servletContext.log(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Initializing Spring embedded WebApplicationContext&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      try &lt;/span&gt;{&lt;br&gt;         servletContext.setAttribute(WebApplicationContext.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, this&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         if &lt;/span&gt;(logger.isDebugEnabled()) {&lt;br&gt;            logger.debug(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Published root WebApplicationContext as ServletContext attribute with name [&quot;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a8759;&quot;&gt;                  &lt;/span&gt;+ WebApplicationContext.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE &lt;/span&gt;+ &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;]&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;         setServletContext(servletContext)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         if &lt;/span&gt;(logger.isInfoEnabled()) {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;long &lt;/span&gt;elapsedTime = System.&lt;span style=&quot;font-style:italic;&quot;&gt;currentTimeMillis&lt;/span&gt;() - getStartupDate()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            &lt;/span&gt;logger.info(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Root WebApplicationContext: initialization completed in &quot; &lt;/span&gt;+ elapsedTime + &lt;span style=&quot;color:#6a8759;&quot;&gt;&quot; ms&quot;&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(RuntimeException | Error ex) {&lt;br&gt;         logger.error(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Context initialization failed&quot;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;servletContext.setAttribute(WebApplicationContext.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         throw &lt;/span&gt;ex&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-169" vertex="1">
          <mxGeometry y="83" width="868" height="477" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-171" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;protected&lt;/font&gt; Resource &lt;span style=&quot;color:#ffc66d;&quot;&gt;getResourceByPath&lt;/span&gt;(String path) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="972" width="868" height="50" as="geometry">
            <mxRectangle y="1200" width="868" height="150" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-172" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;if &lt;/font&gt;(getServletContext() == &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;return new &lt;/span&gt;ClassPathContextResource(path&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;getClassLoader())&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;return new &lt;/span&gt;ServletContextResource(getServletContext()&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;path)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-171" vertex="1">
          <mxGeometry y="50" width="868" height="100" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-173" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color:#ffc66d;&quot;&gt;getServerNamespace&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="1022" width="868" height="50" as="geometry">
            <mxRectangle y="1350" width="868" height="110" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-174" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;return this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;serverNamespace&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt; }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-173" vertex="1">
          <mxGeometry y="50" width="868" height="60" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-175" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;public void&lt;/font&gt; &lt;span style=&quot;color:#ffc66d;&quot;&gt;setServerNamespace&lt;/span&gt;(String serverNamespace) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="1072" width="868" height="50" as="geometry">
            <mxRectangle y="1400" width="868" height="110" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-176" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;this&lt;/font&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;serverNamespace &lt;/span&gt;= serverNamespace&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-175" vertex="1">
          <mxGeometry y="50" width="868" height="60" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-177" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;setServletConfig&lt;/span&gt;(ServletConfig servletConfig) {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="1122" width="868" height="50" as="geometry">
            <mxRectangle y="1510" width="868" height="110" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-178" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;this&lt;/font&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;servletConfig &lt;/span&gt;= servletConfig&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-177" vertex="1">
          <mxGeometry y="50" width="868" height="60" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-179" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;span style=&quot;color:#bbb529;&quot;&gt;@Override&lt;/span&gt; &lt;br&gt;&lt;font color=&quot;#cc7832&quot;&gt;public&lt;/font&gt; ServletConfig &lt;span style=&quot;color:#ffc66d;&quot;&gt;getServletConfig&lt;/span&gt;() {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="1172" width="868" height="50" as="geometry">
            <mxRectangle y="1620" width="868" height="110" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-180" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;return this&lt;/font&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;servletConfig&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-179" vertex="1">
          <mxGeometry y="50" width="868" height="60" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-181" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;font color=&quot;#629755&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;font-style: italic;&quot;&gt; *&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; 内部类&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#629755;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;public static class &lt;/span&gt;ExistingWebApplicationScopes {&lt;/pre&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=81;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=#2A2A2A;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="1222" width="868" height="90" as="geometry">
            <mxRectangle y="1730" width="868" height="610" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-182" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;      &lt;font color=&quot;#cc7832&quot;&gt;private static final&lt;/font&gt; Set&amp;lt;String&amp;gt; &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SCOPES&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      static &lt;/span&gt;{&lt;br&gt;         Set&amp;lt;String&amp;gt; scopes = &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;LinkedHashSet&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;scopes.add(WebApplicationContext.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SCOPE_REQUEST&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;scopes.add(WebApplicationContext.&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SCOPE_SESSION&lt;/span&gt;)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SCOPES &lt;/span&gt;= Collections.&lt;span style=&quot;font-style:italic;&quot;&gt;unmodifiableSet&lt;/span&gt;(scopes)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;private final &lt;/span&gt;ConfigurableListableBeanFactory &lt;span style=&quot;color:#9876aa;&quot;&gt;beanFactory&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      private final &lt;/span&gt;Map&amp;lt;String&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;Scope&amp;gt; &lt;span style=&quot;color:#9876aa;&quot;&gt;scopes &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;new &lt;/span&gt;HashMap&amp;lt;&amp;gt;()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      public &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;ExistingWebApplicationScopes&lt;/span&gt;(ConfigurableListableBeanFactory beanFactory) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;beanFactory &lt;/span&gt;= beanFactory&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         for &lt;/span&gt;(String scopeName : &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;SCOPES&lt;/span&gt;) {&lt;br&gt;            Scope scope = beanFactory.getRegisteredScope(scopeName)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            if &lt;/span&gt;(scope != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;               &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scopes&lt;/span&gt;.put(scopeName&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;scope)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            &lt;/span&gt;}&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;restore&lt;/span&gt;() {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;scopes&lt;/span&gt;.forEach((key&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;value) -&amp;gt; {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;logger&lt;/span&gt;.isInfoEnabled()) {&lt;br&gt;               &lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;logger&lt;/span&gt;.info(&lt;span style=&quot;color:#6a8759;&quot;&gt;&quot;Restoring user defined scope &quot; &lt;/span&gt;+ key)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            &lt;/span&gt;}&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;beanFactory&lt;/span&gt;.registerScope(key&lt;span style=&quot;color:#cc7832;&quot;&gt;, &lt;/span&gt;value)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;})&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;&lt;br&gt;   }&lt;br&gt;&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-181" vertex="1">
          <mxGeometry y="81" width="868" height="529" as="geometry" />
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-183" value="&lt;div&gt;&lt;font color=&quot;#67ab9f&quot;&gt;&lt;b&gt;私有函数&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#696969&quot;&gt;&amp;nbsp; &lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=36;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fontSize=12;fontColor=#FFFF99;fillColor=#2A2A2A;gradientColor=none;swimlaneFillColor=none;align=left;spacingLeft=24;verticalAlign=top;labelBackgroundColor=none;swimlaneLine=0;" parent="K4VY5pfUCq5O3IM_uIsJ-140" vertex="1" collapsed="1">
          <mxGeometry y="1312" width="868" height="32" as="geometry">
            <mxRectangle y="1200" width="868" height="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="K4VY5pfUCq5O3IM_uIsJ-184" value="&lt;pre style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;br&gt;   &lt;font color=&quot;#cc7832&quot;&gt;private &lt;/font&gt;WebServer &lt;span style=&quot;color:#ffc66d;&quot;&gt;startWebServer&lt;/span&gt;() {&lt;br&gt;      WebServer webServer = &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webServer&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(webServer != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;         webServer.start()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      &lt;/span&gt;}&lt;br&gt;      &lt;span style=&quot;color:#cc7832;&quot;&gt;return &lt;/span&gt;webServer&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;   &lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#cc7832;&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color:#ffc66d;&quot;&gt;stopAndReleaseWebServer&lt;/span&gt;() {&lt;br&gt;      WebServer webServer = &lt;span style=&quot;color:#cc7832;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webServer&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;      if &lt;/span&gt;(webServer != &lt;span style=&quot;color:#cc7832;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;            webServer.stop()&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;            this&lt;/span&gt;.&lt;span style=&quot;color:#9876aa;&quot;&gt;webServer &lt;/span&gt;= &lt;span style=&quot;color:#cc7832;&quot;&gt;null;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;         &lt;span style=&quot;color:#cc7832;&quot;&gt;catch &lt;/span&gt;(Exception ex) {&lt;br&gt;            &lt;span style=&quot;color:#cc7832;&quot;&gt;throw new &lt;/span&gt;IllegalStateException(ex)&lt;span style=&quot;color:#cc7832;&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#cc7832;&quot;&gt;         &lt;/span&gt;}&lt;br&gt;      }&lt;br&gt;   }&lt;/pre&gt;" style="text;align=left;verticalAlign=top;spacingLeft=0;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=1;whiteSpace=wrap;html=1;shadow=0;spacingTop=-16;spacingBottom=-16;movable=1;resizable=1;deletable=1;editable=1;connectable=1;rounded=0;" parent="K4VY5pfUCq5O3IM_uIsJ-183" vertex="1">
          <mxGeometry y="36" width="868" height="354" as="geometry" />
        </mxCell>
        <UserObject label="&lt;font style=&quot;font-size: 14px;&quot;&gt;AnnotationConfigReactiveWebServerApplicationContext&lt;/font&gt;" tooltip="Web服务应用上下文" id="Rpf5kiD7kc_mtW-Zp-oe-1">
          <mxCell style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;spacingLeft=24;" parent="gZtpTX1WfCaNUSenPJXd-176" vertex="1" collapsed="1">
            <mxGeometry y="3782" width="2764" height="20" as="geometry">
              <mxRectangle y="70" width="2764" height="770" as="alternateBounds" />
            </mxGeometry>
          </mxCell>
        </UserObject>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-2" value="&lt;b&gt;web 响应式服务应用上下文&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="353" y="30" width="770" height="30" as="geometry" />
        </mxCell>
        <UserObject label="ApplicationContext" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;为应用程序提供配置的核心接口&#xa;&lt;hr&gt;&lt;b&gt;主要功能：&lt;/b&gt;&#xa;1)用于访问应用程序组件的 Bean 工厂方法。继承自 ListableBeanFactory。&#xa;2)以通用方式加载文件资源的能力。继承自 org.springframework.core.io.ResourceLoader 接口。&#xa;3)将事件发布到已注册的侦听器的功能。继承自 ApplicationEventPublisher 接口。&#xa;4)解析消息的能力，支持国际化。继承自 MessageSource 接口。&#xa;5)可以从父上下文继承。子上下文中的定义覆盖父上下文的定义。&#xa;  例如，单个父上下文可以被整个 Web 应用程序使用，而每个 servlet 都有自己的子上下文，独立于任何其他 servlet 的子上下文。&#xa;&#xa;&lt;b&gt;注意：&lt;/b&gt;&#xa;1)除了标准的 &lt;b style=&quot;color:blue&quot;&gt;org.springframework.beans.factory.BeanFactory&lt;/b&gt; 生命周期功能外，ApplicationContext 的 实现类还可以检测并调用 &lt;b style=&quot;color:blue&quot;&gt;ApplicationContextAware&lt;/b&gt; 以及 &lt;b style=&quot;color:blue&quot;&gt;ResourceLoaderAware&lt;/b&gt;、&lt;b style=&quot;color:blue&quot;&gt;ApplicationEventPublisherAware&lt;/b&gt; 和 &lt;b style=&quot;color:blue&quot;&gt;MessageSourceAware&lt;/b&gt; bean。&#xa;2)ApplicationContext 实现了 EnvironmentCapable，从而公开了一个 getEnvironment()方法; 但是，ConfigurableApplicationContext 重新定义了 getEnvironment()并缩小了签名范围以返回 ConfigurableEnvironment。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getId: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getApplicationName: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getDisplayName: String&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getStartupDate: long&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getParent: ApplicationContext&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getAutowireCapableBeanFactory: AutowireCapableBeanFactory&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="Rpf5kiD7kc_mtW-Zp-oe-3">
          <mxCell style="html=1;whiteSpace=wrap;fontStyle=1;dashed=1;shadow=0;rounded=0;glass=0;strokeWidth=2;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
            <mxGeometry x="660.75" y="89" width="150" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-4" value="DefaultResourceLoader" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="1208.25" y="290" width="163" height="30" as="geometry" />
        </mxCell>
        <UserObject label="ResourceLoader" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用于加载资源的策略接口（例如.class路径或文件系统资源）。&#xa;&#xa;1)需要&lt;b style=&quot;color:blue&quot;&gt; org.springframework.context.ApplicationContext&lt;/b&gt;来提供此功能，以及扩展的&lt;b style=&quot;color:blue&quot;&gt;org.springframework.core.io.support.ResourcePatternResolver&lt;/b&gt;支持。&#xa;2)在ApplicationContext中运行时，Resource 和 Resource 数组类型的 Bean 属性通过特定的上下文资源加载策略从字符串中转换而来。&#xa;&#xa;&lt;b&gt;注意：&lt;/b&gt;&lt;b style=&quot;color:blue&quot;&gt;DefaultResourceLoader&lt;/b&gt; 是一个独立的实现，可在 ApplicationContext 之外使用，也被 ResourceEditor 使用。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法/属性：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getResource: Resource&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getClassLoader: ClassLoader&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;CLASSPATH_URL_PREFIX = &quot;classpath:&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;&#xa;" id="Rpf5kiD7kc_mtW-Zp-oe-5">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
            <mxGeometry x="1208.75" y="190" width="161" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-6" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-4" target="Rpf5kiD7kc_mtW-Zp-oe-5" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1425.75" y="74" as="sourcePoint" />
            <mxPoint x="1585.75" y="74" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1289" y="270" />
              <mxPoint x="1289" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="ConfigurableApplicationContext" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px;max-width:800px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;Spring Boot 上下文根接口&#xa;&lt;hr&gt;SPI（Service Provider Interface） 接口将由大多数应用程序上下文实现。提供用于配置应用程序上下文以及接口中的 ApplicationContext 应用程序上下文客户端方法的工具。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法/属性：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONFIG_LOCATION_DELIMITERS = &quot;,; \t\n&quot;;&lt;/b&gt; (分隔符)&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONVERSION_SERVICE_BEAN_NAME = &quot;conversionService&quot;&lt;/b&gt; &#xa;工厂中转换服务Bean的名称。如果未提供任何转换规则，则应用默认转换规则。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;LOAD_TIME_WEAVER_BEAN_NAME = &quot;loadTimeWeaver&quot;&lt;/b&gt;&#xa;工厂中 LoadTimeWeaver bean 的名称。如果提供了这样的 Bean，上下文将使用临时 ClassLoader 进行类型匹配，以便允许 LoadTimeWeaver 处理所有实际的 Bean 类。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;ENVIRONMENT_BEAN_NAME = &quot;environment&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SYSTEM_PROPERTIES_BEAN_NAME = &quot;systemProperties&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SYSTEM_ENVIRONMENT_BEAN_NAME = &quot;systemEnvironment&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SHUTDOWN_HOOK_THREAD_NAME = &quot;SpringContextShutdownHook&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;addBeanFactoryPostProcessor: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;addApplicationListener: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;setClassLoder: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;addProtocolResolver: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;refresh: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;registerShutdownHook: void&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;isActive: boolean&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getBeanFactory: ConfigurableListableBeanFactory&lt;/b&gt;&#xa;&lt;b&gt;注意&lt;/b&gt;: 不要使用它来对 bean 工厂进行后置处理(post-process)&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;...&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="Rpf5kiD7kc_mtW-Zp-oe-7">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;fontStyle=1;strokeWidth=2;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
            <mxGeometry x="641.75" y="190" width="188" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-8" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-7" target="Rpf5kiD7kc_mtW-Zp-oe-3" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="986.75" y="172" as="sourcePoint" />
            <mxPoint x="905.75" y="99" as="targetPoint" />
            <Array as="points">
              <mxPoint x="735.75" y="150" />
              <mxPoint x="735.75" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-9" value="Lifecycle" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="444.25" y="140" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-10" value="Closeable" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="919" y="140" width="84" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-11" value="AutoClouseable" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="1160" y="140" width="118" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-12" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-10" target="Rpf5kiD7kc_mtW-Zp-oe-11" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="745.75" y="99" as="sourcePoint" />
            <mxPoint x="1147.75" y="9" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-13" value="AbstractApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="654.25" y="290" width="163" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-14" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-13" target="Rpf5kiD7kc_mtW-Zp-oe-7" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1473.75" y="311" as="sourcePoint" />
            <mxPoint x="1473.75" y="231" as="targetPoint" />
            <Array as="points">
              <mxPoint x="735.75" y="260" />
              <mxPoint x="735.75" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-15" value="GenericApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="654.25" y="413" width="163" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-16" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-13" target="Rpf5kiD7kc_mtW-Zp-oe-4" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1310.75" y="99" as="sourcePoint" />
            <mxPoint x="1310.75" y="9" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-17" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.461;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-34" target="Rpf5kiD7kc_mtW-Zp-oe-15" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="735.7499999999995" y="510" as="sourcePoint" />
            <mxPoint x="752.75" y="301" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-18" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-15" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="735.3600000000001" y="391" as="sourcePoint" />
            <mxPoint x="735.3600000000001" y="320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="735.75" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-19" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-7" target="Rpf5kiD7kc_mtW-Zp-oe-10" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1001.75" y="215" as="sourcePoint" />
            <mxPoint x="1075.75" y="215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-20" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-7" target="Rpf5kiD7kc_mtW-Zp-oe-9" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="839.75" y="215" as="sourcePoint" />
            <mxPoint x="925.75" y="215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-21" value="Aliasrergistry" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="429.25" y="195" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-22" value="BeanDefinitionRegistry" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="398.75" y="290" width="151" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-23" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-15" target="Rpf5kiD7kc_mtW-Zp-oe-22" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="951.75" y="530" as="sourcePoint" />
            <mxPoint x="1073.75" y="446" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-24" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-22" target="Rpf5kiD7kc_mtW-Zp-oe-21" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="745.75" y="200" as="sourcePoint" />
            <mxPoint x="523.75" y="129" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-25" value="&lt;div&gt;ReactiveWebApplicationContext&lt;/div&gt;" style="html=1;whiteSpace=wrap;dashed=1;fillColor=#E6E6E6;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="200" y="200" width="189" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div&gt;WebApplicationContext&lt;/div&gt;" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用于为 Web 应用程序提供配置的接口&lt;hr&gt;&#xa;1)此接口将方法 getServletContext() 添加到通用应用程序上下文接口，并定义在引导过程中绑定到已知应用程序属性名称的根上下文。&#xa;2)与通用应用程序上下文一样，Web 应用程序上下文是分层的。每个应用程序都有一个根上下文，而应用程序中的每个 servlet（包括 MVC 框架中的调度程序 servlet）都有自己的子上下文。&#xa;3)除了标准的应用程序上下文生命周期功能之外，WebApplicationContext 实现还需要检测 ServletContextAware bean 及调用 setServletContext 方法。&#xa;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法/属性：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;getServletContext: ServletContext&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE = WebApplicationContext.class.getName() + &quot;.ROOT&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SCOPE_REQUEST = &quot;request&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SCOPE_SESSION = &quot;session&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SCOPE_APPLICATION = &quot;application&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;SERVLET_CONTEXT_BEAN_NAME = &quot;servletContext&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONTEXT_PARAMETERS_BEAN_NAME = &quot;contextParameters&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blueviolet&quot;&gt;CONTEXT_ATTRIBUTES_BEAN_NAME = &quot;contextAttributes&quot;&lt;/b&gt;&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="Rpf5kiD7kc_mtW-Zp-oe-26">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
            <mxGeometry x="1003" y="190" width="144" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-27" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-25" target="Rpf5kiD7kc_mtW-Zp-oe-3" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="746" y="200" as="sourcePoint" />
            <mxPoint x="523" y="129" as="targetPoint" />
            <Array as="points">
              <mxPoint x="295" y="104" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-28" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=1;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-26" target="Rpf5kiD7kc_mtW-Zp-oe-3" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="305" y="210" as="sourcePoint" />
            <mxPoint x="746" y="99" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1075" y="104" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-29" value="ConfigurableReactiveWebServerApplicationContext" style="html=1;whiteSpace=wrap;dashed=1;fillColor=#E6E6E6;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="145" y="436" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-30" value="ConfigurableWebApplicationContext" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="947" y="413" width="254" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-31" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-29" target="Rpf5kiD7kc_mtW-Zp-oe-25" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="523" y="300" as="sourcePoint" />
            <mxPoint x="523" y="235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-32" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-29" target="Rpf5kiD7kc_mtW-Zp-oe-7" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="305" y="446" as="sourcePoint" />
            <mxPoint x="305" y="240" as="targetPoint" />
            <Array as="points">
              <mxPoint x="580" y="451" />
              <mxPoint x="580" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-33" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;jumpStyle=arc;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-30" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="431" y="461" as="sourcePoint" />
            <mxPoint x="829" y="205" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1073" y="360" />
              <mxPoint x="939" y="360" />
              <mxPoint x="939" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-34" value="GenericWebApplicationContext" style="html=1;whiteSpace=wrap;fillColor=default;strokeColor=#666666;fontColor=#333333;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="650.25" y="533" width="186" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-35" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-30" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="745" y="530" as="sourcePoint" />
            <mxPoint x="1074.0000000000005" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-36" value="ThemeSource" style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="948" y="533" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-37" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-34" target="Rpf5kiD7kc_mtW-Zp-oe-30" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="746" y="423" as="sourcePoint" />
            <mxPoint x="484" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-38" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-34" target="Rpf5kiD7kc_mtW-Zp-oe-36" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="846" y="558" as="sourcePoint" />
            <mxPoint x="957" y="451" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-39" value="ReactiveWebServerApplicationContext" style="html=1;whiteSpace=wrap;fillColor=#E6E6E6;strokeColor=#666666;fontColor=#333333;fontStyle=0;strokeWidth=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="154" y="533" width="282" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-40" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-42" target="Rpf5kiD7kc_mtW-Zp-oe-39" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="705" y="430" as="sourcePoint" />
            <mxPoint x="705" y="351" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-41" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-39" target="Rpf5kiD7kc_mtW-Zp-oe-29" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1156" y="559" as="sourcePoint" />
            <mxPoint x="295" y="479" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-42" value="AnnotationConfigReactiveWebServerApplicationContext" style="html=1;whiteSpace=wrap;fillColor=#E6E6E6;strokeColor=#666666;fontColor=#333333;fontStyle=1;strokeWidth=2;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
          <mxGeometry x="132" y="680" width="326" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-43" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-42" target="Rpf5kiD7kc_mtW-Zp-oe-44" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="411" y="546" as="sourcePoint" />
            <mxPoint x="410" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="AnnotationConfigRegistry" tooltip="&lt;div style=&quot;font:120% Baskerville,serif;min-width:300px;max-width:800px; background:honeydew; padding:0 1rem;&quot;&gt;&#xa;用注解的方式配置应用程序上下文&#xa;&lt;hr&gt;&#xa;&lt;div style=&quot;background:antiquewhite;padding:0.5rem 1rem;&quot;&gt;&lt;b style=&quot;color:green&quot;&gt;方法：&lt;/b&gt;&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;register: void&lt;/b&gt;&#xa;注册一个或多个要处理的组件类, 对 register 调用是幂等的。&#xa;&lt;hr&gt;&lt;b style=&quot;color:blue&quot;&gt;scan: void&lt;/b&gt;&#xa;在指定的基本软件包中执行扫描&#xa;&lt;hr&gt;&lt;/div&gt;&#xa;&#xa;&lt;/div&gt;" id="Rpf5kiD7kc_mtW-Zp-oe-44">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" vertex="1">
            <mxGeometry x="434" y="602" width="164" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Rpf5kiD7kc_mtW-Zp-oe-45" value="" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;startSize=6;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;" parent="Rpf5kiD7kc_mtW-Zp-oe-1" source="Rpf5kiD7kc_mtW-Zp-oe-39" target="Rpf5kiD7kc_mtW-Zp-oe-34" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="305" y="703" as="sourcePoint" />
            <mxPoint x="306" y="589" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ipHpMq2LR514a7N4hbmw-1" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1287" y="18" width="110" height="119" as="geometry" />
        </mxCell>
        <UserObject label="&lt;font style=&quot;font-size: 10px;&quot;&gt;Spring freamwork 接口&lt;/font&gt;" tooltip="" id="ipHpMq2LR514a7N4hbmw-2">
          <mxCell style="html=1;whiteSpace=wrap;strokeWidth=1;dashed=1;" parent="ipHpMq2LR514a7N4hbmw-1" vertex="1">
            <mxGeometry width="110" height="22.452830188679243" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;font style=&quot;font-size: 10px;&quot;&gt;Spring boot 接口&lt;/font&gt;" tooltip="" id="ipHpMq2LR514a7N4hbmw-3">
          <mxCell style="html=1;whiteSpace=wrap;dashed=1;fillColor=#E6E6E6;" parent="ipHpMq2LR514a7N4hbmw-1" vertex="1" collapsed="1">
            <mxGeometry y="63.61635220125786" width="110" height="22.452830188679243" as="geometry">
              <mxRectangle x="1654" y="100" width="149" height="30" as="alternateBounds" />
            </mxGeometry>
          </mxCell>
        </UserObject>
        <UserObject label="&lt;font style=&quot;font-size: 10px;&quot;&gt;Spring boot 类&lt;/font&gt;" tooltip="" id="ipHpMq2LR514a7N4hbmw-4">
          <mxCell style="html=1;whiteSpace=wrap;fillColor=#E6E6E6;strokeColor=#666666;fontColor=#333333;fontStyle=0;strokeWidth=1;" parent="ipHpMq2LR514a7N4hbmw-1" vertex="1" collapsed="1">
            <mxGeometry y="96.54716981132076" width="110" height="22.452830188679243" as="geometry">
              <mxRectangle x="1654" y="140" width="149" height="30" as="alternateBounds" />
            </mxGeometry>
          </mxCell>
        </UserObject>
        <UserObject label="&lt;font style=&quot;font-size: 10px;&quot;&gt;Spring freamwork 类&lt;/font&gt;" tooltip="" id="ipHpMq2LR514a7N4hbmw-5">
          <mxCell style="html=1;whiteSpace=wrap;strokeWidth=1;strokeColor=#666666;" parent="ipHpMq2LR514a7N4hbmw-1" vertex="1">
            <mxGeometry y="30.68553459119497" width="110" height="22.452830188679243" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RDmixd0tT12VmrphhzZk" name="第 4 页">
    <mxGraphModel dx="1434" dy="746" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
